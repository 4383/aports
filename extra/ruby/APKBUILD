# Contributor: Carlo Landmeter <clandmeter@gmail.com>
# Maintainer: Carlo Landmeter <clandmeter@gmail.com>
pkgname=ruby
pkgver=1.8.7_p72
_pkgver=1.8.7-p72
pkgrel=1
pkgdesc="An object-oriented language for quick and easy programming"
url="http://www.ruby-lang.org/en/"
license="Ruby"
depends="zlib openssl libiconv gdbm db readline"
makedepends="zlib-dev openssl-dev libiconv-dev gdbm-dev db-dev readline-dev"
subpackages="$pkgname-doc $pkgname-dev"
source="ftp://ftp.ruby-lang.org/pub/ruby/1.8/${pkgname}-${_pkgver}.tar.bz2"
#
# maybe its a good idea to split dep libs to seperate pkg's.
#
build() {
	cd "$srcdir/$pkgname-${_pkgver}"

	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info \
		--enable-shared
	make || return 1
	make DESTDIR="$pkgdir" install
	install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}"/COPYING || return 1

}

md5sums="0b215c46b89b28d7ab8d56d96e72d5b9  ruby-1.8.7-p72.tar.bz2"
