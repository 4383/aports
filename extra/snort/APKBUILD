# Contributor: Michael Mason <ms13sp@gmail.com>
pkgname=snort
pkgver=2.8.3.2
pkgrel=0
pkgdesc="An open source network intrusion prevention and detection system"
url="http://www.snort.org/"
license="GPL"
depends="uclibc libpcap libnet"
makedepends="pcre-dev libpcap-dev libnet-dev"
install="$pkgname.pre-install"
subpackages="$pkgname-doc $pkgname-dev"
source="http://www.snort.org/dl/$pkgname-$pkgver.tar.gz
        snort.initd
        snort.confd
        $install
        "

build() {
        cd "$srcdir/$pkgname-$pkgver"

        ./configure --prefix=/usr \
                --sysconfdir=/etc \
                --mandir=/usr/share/man \
                --infodir=/usr/share/info \
                --enable-ipv6 \
                --enable-gre
        make -j1 || return 1
        make -j1 DESTDIR="$pkgdir" install

        install -D -m 755 ../snort.initd ${pkgdir}/etc/init.d/snort
        install -D -m 644 ../snort.confd ${pkgdir}/etc/conf.d/snort
}

md5sums="f75547da33446ddb4ca07eefd9ce31dc  snort-2.8.3.2.tar.gz
b3207150805e7b948d958c6f86e70a5b  snort.initd
446f8d2b3435b8a6be738da978670605  snort.confd
fc0cd41b3f16781cdbe6e5d7e3185892  snort.pre-install"
