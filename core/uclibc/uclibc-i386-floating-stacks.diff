--- uClibc-0.9.30.1/libpthread/linuxthreads/sysdeps/i386/pt-machine.h	Thu Sep 25 13:55:14 2008
+++ /root/uClibc-0.9.30.1-patched/libpthread/linuxthreads/sysdeps/i386/pt-machine.h	Wed Jun 24 13:13:31 2009
@@ -113,6 +113,8 @@
 }
 #endif /* __ASSEMBLER__ */
 
+#include "./useldt.h"
+
 #endif /* pt-machine.h */
 
 #endif
--- uClibc-0.9.30.1/libpthread/linuxthreads/sysdeps/i386/useldt.h	Tue May 15 00:35:00 2007
+++ /root/uClibc-0.9.30.1-patched/libpthread/linuxthreads/sysdeps/i386/useldt.h	Wed Jun 24 13:22:38 2009
@@ -23,7 +23,8 @@
 #include <stddef.h>	/* For offsetof.  */
 #include <stdlib.h>	/* For abort().	 */
 #include <sysdep.h>
-
+#include <sys/syscall.h>
+#include <kernel-features.h>
 
 /* We don't want to include the kernel header.	So duplicate the
    information.	 */
