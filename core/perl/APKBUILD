pkgname=perl
pkgver=5.10.0
pkgrel=0
pkgdesc="Larry Wall's Practical Extraction and Report Language"
url=http://www.perl.org
license="Artistic GPL-2"
source=http://www.perl.com/CPAN/src/perl-${pkgver}.tar.gz
subpackages="dev doc miniperl"
depends=uclibc

build() {
	cd "$srcdir/$pkgname-$pkgver"
	./Configure -des \
		-Dcccdlflags='-fPIC' \
		-Dcccdlflags='-fPIC' \
		-Dccdlflags='-rdynamic' \
		-Dprefix='/usr' \
		-Dvendorprefix='/usr' \
		-Dsiteprefix='/usr' \
		-Dlocincpth=' ' \
		-Doptimize="${CFLAGS}" \
		-Duselargefiles \
		-Dd_semctl_semun \
		-Dscriptdir=/usr/bin \
		-Dman1dir=/usr/share/man/man1 \
		-Dman3dir=/usr/share/man/man3 \
		-Dinstallman1dir=/usr/share/man/man1 \
		-Dinstallman3dir=/usr/share/man/man3 \
		-Dman1ext='1' \
		-Dman3ext='3pm' \
		-Dinc_version_list="$inclist" \
		-Dcf_by='Alpine' \
		-Ud_csh \
		-Dusenm \
		|| return 1

	make
	make install DESTDIR="$pkgdir"
}

miniperl() {
	pkgname=miniperl
	mkdir -p "$subpkgdir"/usr/bin
	cp "$srcdir/perl-$pkgver"/miniperl "$subpkgdir/usr/bin"
}

md5sums="872c3b9f1238c06766733f42087aea24  perl-5.10.0.tar.gz"
md5sums="d2c39b002ebfd2c3c5dba589365c5a71  perl-5.10.0.tar.gz"
