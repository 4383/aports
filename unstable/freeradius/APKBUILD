# Contributor: 
# Maintainer: 
pkgname=freeradius
pkgver=2.1.3
pkgrel=0
pkgdesc="RADIUS (Remote Authentication Dial-In User Service) server"
url="http://freeradius.org/"
license="GPL"
depends="uclibc openssl pth"
makedepends="openssl-dev pth-dev"
install="freeradius.pre-install"
subpackages="$pkgname-doc $pkgname-dev"
source="ftp://ftp.freeradius.org/pub/freeradius/$pkgname-server-$pkgver.tar.gz
	freeradius.confd
	freeradius.initd
	$install"

build() {
	cd "$srcdir/$pkgname-server-$pkgver"

	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info
	make -j1 || return 1
	make -j1 DESTDIR="$pkgdir" install

	install -m755 -D "$srcdir"/$pkgname.initd "$pkgdir"/etc/init.d/$pkgname
	install -m644 -D "$srcdir"/$pkgname.confd "$pkgdir"/etc/conf.d/$pkgname
}

md5sums="017ebe7dd2e261caee448c64ccd4584d  freeradius-server-2.1.3.tar.gz
fc6693f3df5a0694610110287a28568a  freeradius.confd
2c281944a8edebc98a799d628875d371  freeradius.initd
263208b5db70e1229252d6c9828ad048  freeradius.pre-install"
