# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=xinit
pkgver=1.1.1
pkgrel=2
pkgdesc="X.Org initialisation program "
url="http://xorg.freedesktop.org/"
license="GPL"
subpackages="$pkgname-doc"
depends="libx11 xauth uclibc"
makedepends="pkgconfig libx11-dev"
source="http://xorg.freedesktop.org/releases/individual/app/xinit-$pkgver.tar.bz2
	xinitrc
	xsession
	xserverrc"

build() { 
	cd "$srcdir"/xinit-$pkgver
	./configure --prefix=/usr || return 1
	make XINITDIR=/etc/X11/xinit || return 1
}

package() {
	cd "$srcdir"/xinit-$pkgver
	make XINITDIR=/etc/X11/xinit DESTDIR="$pkgdir" install || return 1
	chmod +x "$pkgdir"/usr/bin/startx
	install -m755 -d "$pkgdir"/etc/skel
	install -m755 -d "$pkgdir"/etc/X11/xinit
	install -m755 "$srcdir"/xsession "$pkgdir"/etc/skel/.xsession || return 1
	install -m755 "$srcdir"/xserverrc "$pkgdir"/etc/X11/xinit/xserverrc || return 1
}
md5sums="93c73705ed9eb1e1a6b6938405672f2b  xinit-1.1.1.tar.bz2
af322d72972d5722b7fc0a9e8f025b15  xinitrc
4f04d2891ea87f50fde518267b7a1154  xsession
bb550d3b9a2d2b6cbe6e2667a3a7cd03  xserverrc"
