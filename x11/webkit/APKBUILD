# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=webkit
pkgver=1.1.3
pkgrel=0
pkgdesc="A webbrowser engine"
url="http://webkit.org/"
license="LGPL BSD"
depends="uclibc libsoup pango gtk+ libjpeg libpng libxml2 gperf icu cairo
	atk gnutls sqlite libxslt libxt libiconv"
makedepends="
	libsoup-dev pango-dev gtk+-dev libjpeg-dev libpng-dev libxml2-dev
	gperf pkgconfig bison flex uclibc++-dev icu-dev cairo-dev atk-dev
	gnutls-dev sqlite-dev libxslt-dev libxt-dev libiconv-dev
	"
install=
subpackages="$pkgname-dev gtklauncher"
source="http://webkitgtk.org/$pkgname-$pkgver.tar.gz"

depends_dev="gtk+-dev libsoup-dev"

build() {
	cd "$srcdir"/$pkgname-$pkgver
	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info
	make || return 1
	make DESTDIR="$pkgdir" install
}

gtklauncher() {
	pkgdesc="Application to test WebKit"
	depends="webkit gtk+ glib"
	install=
	install -Dm755 "$srcdir"/$pkgname-$pkgver/Programs/GtkLauncher \
		"$subpkgdir"/usr/bin/GtkLauncher
}

md5sums="9c1dcba372e2a56d6011ad807abc80e6  webkit-1.1.3.tar.gz"
