# Contributor: Paul Kilar <pkilar@gmail.com>
# Maintainer: Paul Kilar <pkilar@gmail.com>
pkgname=scapy
pkgver='2.1.0'
pkgrel=0
pkgdesc="Powerful interactive packet manipulation"
url="http://www.secdev.org/projects/scapy/"
arch="noarch"
license="GPL3+"
depends="python"
depends_dev=""
makedepends=""
install=""
subpackages="$pkgname-doc"
source="http://www.secdev.org/projects/scapy/files/scapy-$pkgver.tar.gz"
_builddir="$srcdir"/$pkgname-$pkgver

prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	python setup.py build || return 1
}

package() {
	cd "$_builddir"
	python setup.py install --prefix=/usr --root="$pkgdir" || return 1
}
md5sums="357b5b21ea3b4f289a326c0905b715c1  scapy-2.1.0.tar.gz"
sha256sums="43ca233b0cfc950401193e2702ea32ee1dd83d4bab671371e322a7b6c52275ba  scapy-2.1.0.tar.gz"
sha512sums="51153b922ea34f818523ecb679f4598404b692fc135e7cdbd356b3878c276d93229530107b47cbe59df25ef637e628eee1f48069b9d3128eb402dfe5871ecc2a  scapy-2.1.0.tar.gz"
