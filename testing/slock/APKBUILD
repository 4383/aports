# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=slock
pkgver=1.2
pkgrel=0
pkgdesc="A simple screen locker for X"
url="http://tools.suckless.org/slock/"
arch="all"
license="MIT"
depends=""
depends_dev="libxext-dev"
makedepends="$depends_dev"
install=""
source="http://git.suckless.org/$pkgname/snapshot/$pkgname-$pkgver.tar.gz"
options="suid"

_builddir="$srcdir/$pkgname-$pkgver"
prepare() {
	cd "$_builddir"

	local i=
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1 ;;
		esac
	done
}

build() {
	cd "$_builddir"
	make X11INC=/usr/include/X11 X11LIB=/usr/lib/X11
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" \
		-C "$_builddir" install
}

md5sums="8c260816e20298e7d08f59e96b740465  slock-1.2.tar.gz"
sha256sums="0229b2440970cd32bb626c583283646a6adf2684a18ba91d2e72a08b9075d7f4  slock-1.2.tar.gz"
sha512sums="8b403da254cf9802de760fcd39a3c848c4d6b0022f0200efd6210ed14b6d65a2978a4a9c89c661f4a386a17e5d871c531278e4240a3af0a2e42c0ffc95d0ad10  slock-1.2.tar.gz"
