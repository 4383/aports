# Maintainer: Eivind Uggedal <eivind@uggedal.com>
pkgname=babel
pkgver=0.2
pkgrel=0
pkgdesc="Package manager for the Nimrod programming language"
url="https://github.com/nimrod-code/babel"
arch="all"
license="BSD"
depends="nimrod"
depends_dev=""
makedepends=""
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::$url/archive/v$pkgver.tar.gz"

_builddir="$srcdir/$pkgname-$pkgver"
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	nimrod c -d:release src/$pkgname.nim
}

package() {
	cd "$_builddir"
	install -Dm755 src/$pkgname "$pkgdir"/usr/bin/$pkgname
}

md5sums="1cfd93d66941e39d0ba8d7a66c372433  babel-0.2.tar.gz"
sha256sums="0b049997d2fe6b6315b51a0476c4890ce25c0ea02a4b31909765ef14e4448fbc  babel-0.2.tar.gz"
sha512sums="68727e1e36685a12e55110e259841f39cd10e233a0ff486ce6d2c79136de4eb52c97d1f983ab30159fcf0d02e8ce0c8697f54fe1f247c5783838f9b6a635b2bb  babel-0.2.tar.gz"
