# Maintainer:  Natanael Copa <ncopa@alpinelinux.org>
pkgname=mdocml
pkgver=1.11.3
pkgrel=1
pkgdesc="Roff implementation"
url="http://mdocml.bsd.lv/"
arch="all"
license="BSD"
depends=
makedepends=
install=
subpackages="$pkgname-doc $pkgname-dev $pkgname-man"
source="http://mdocml.bsd.lv/snapshots/mdocml-$pkgver.tar.gz man.sh"

_builddir="$srcdir"/$pkgname-$pkgver

prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
	make PREFIX=/usr || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" PREFIX=/usr MANDIR=/usr/share/man \
		EXAMPLEDIR=/usr/share/doc/mdocml/examples install
}

man() {
	cd "$srcdir"
	depends="mdocml"
	install -Dm 755 man.sh "$subpkgdir"/usr/bin/man || return 1
}

md5sums="497b4278acb96a087ee6f92c64b4a56d  mdocml-1.11.3.tar.gz
d60a6a3ea949f03e7fb90dbe1ca74e1f  man.sh"
