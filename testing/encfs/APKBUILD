# Contributor: ScrumpyJack <scrumpyjack@me.com>
# Maintainer:
pkgname=encfs
pkgver=1.8
pkgrel=0
pkgdesc="EncFS provides an encrypted filesystem in user-space"
url="http://www.arg0.net/#!projects/cuvk"
arch="all"
license="GPL"
depends="fuse"
depends_dev=""
makedepends="libintl libtool gettext gettext-dev autoconf automake rlog openssl-dev fuse-dev boost-dev"
install=""
subpackages="$pkgname-doc"
source=saveas-https://github.com/vgough/$pkgname/archive/master.tar.gz/${pkgname}-${pkgver}.tgz

_builddir="$srcdir/${pkgname}-master"
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
	autoreconf -if
}

build() {
	cd "$_builddir"
	./configure --prefix=/usr \
		    --disable-nls || return 1
	make
}

package() {
	cd "$_builddir"
	make DESTDIR="${pkgdir}" install || return 1
	find "$pkgdir" -name '*.la' -delete || return 1
}

#md5sums="1566af6b1a97be262215f6c509b34012  v1.8-rc1.tar.gz"
#sha256sums="387375019bb4059f36b03ec69aed5ff42c8b56a1d3d9fe39ded5e8e62255c117  v1.8-rc1.tar.gz"
#sha512sums="04adba347c6a67f87c7fa541750064eca4cbd6e950dec22e1a2358d8764ea49d821aa6881a76e3b3aedbc927a11d9bcf33273211a959609e10afa0175333516f  v1.8-rc1.tar.gz"
md5sums="cc4dcf6e2b1f52b6162805fcacdad22f  encfs-1.8.tgz"
sha256sums="e31ea72bdc9899a8452ed61c1b2fe0281d220b87a79238c926020749f6f389df  encfs-1.8.tgz"
sha512sums="293e69f2f01866b2ec8197f79d9cb8337a639d6cdcbb2a95beffba2b4d6887b37d0691804f57aee768c61b341acc5c2735805c2d8ce1543f7ec12f2695535ff3  encfs-1.8.tgz"
