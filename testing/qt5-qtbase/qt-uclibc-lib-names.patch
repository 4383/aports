From 7c65b1f6463f65931a77d760662deab63fcecb78 Mon Sep 17 00:00:00 2001
From: Jorgen Lind <jorgen.lind@digia.com>
Date: Thu, 23 Jan 2014 12:16:20 +0100
Subject: [PATCH] Don't include <gnu/lib-names.h> when compiling with uClibc

Change-Id: I5264280b7ce1e94eaf410a070f9670984f7a655b
Reviewed-by: Peter Hartmann <phartmann@blackberry.com>
---
 src/network/kernel/qdnslookup_unix.cpp |    2 +-
 src/network/kernel/qhostinfo_unix.cpp  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/network/kernel/qdnslookup_unix.cpp b/src/network/kernel/qdnslookup_unix.cpp
index 052c492..9fb488c 100644
--- a/src/network/kernel/qdnslookup_unix.cpp
+++ b/src/network/kernel/qdnslookup_unix.cpp
@@ -52,7 +52,7 @@
 #include <arpa/nameser_compat.h>
 #include <resolv.h>
 
-#ifdef __GNU_LIBRARY__
+#if defined(__GNU_LIBRARY__) && !defined(__UCLIBC__)
 #  include <gnu/lib-names.h>
 #endif
 
diff --git a/src/network/kernel/qhostinfo_unix.cpp b/src/network/kernel/qhostinfo_unix.cpp
index dc2702b..32b7318 100644
--- a/src/network/kernel/qhostinfo_unix.cpp
+++ b/src/network/kernel/qhostinfo_unix.cpp
@@ -63,7 +63,7 @@
 #  include <resolv.h>
 #endif
 
-#ifdef __GNU_LIBRARY__
+#if defined(__GNU_LIBRARY__) && !defined(__UCLIBC__)
 #  include <gnu/lib-names.h>
 #endif
 
-- 
1.7.1

