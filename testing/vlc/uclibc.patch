--- a/src/misc/linux_specific.c	2009-07-08 09:29:41.000000000 +0000
+++ b/src/misc/linux_specific.c	2009-07-08 09:30:47.000000000 +0000
@@ -72,14 +72,14 @@
 }
 #endif
 
-#ifdef __GLIBC__
+#if defined(__GLIBC__) && !defined(__UCLIBC__)
 # include <gnu/libc-version.h>
 # include <stdlib.h>
 #endif
 
 void system_Init (libvlc_int_t *libvlc, int *argc, const char *argv[])
 {
-#ifdef __GLIBC__
+#if defined(__GLIBC__) && !defined(__UCLIBC__)
     const char *glcv = gnu_get_libc_version ();
 
     /* gettext in glibc 2.5-2.7 is not thread-safe. LibVLC keeps crashing,
--- a/src/control/vlm.c	2009-07-09 09:21:55.000000000 +0000
+++ b/src/control/vlm.c	2009-07-09 09:22:24.000000000 +0000
@@ -21,6 +21,10 @@
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
  *****************************************************************************/
 
+#ifdef HAVE_CONFIG_H
+# include "config.h"
+#endif
+
 #include <vlc/libvlc.h>
 #include <vlc/libvlc_vlm.h>
 #include <vlc_es.h>
--- a/src/misc/mtime.c	2009-07-09 11:57:46.000000000 +0000
+++ b/src/misc/mtime.c	2009-07-09 13:48:16.000000000 +0000
@@ -78,7 +78,7 @@
 #  define _POSIX_CLOCK_SELECTION (-1)
 #endif
 
-# if (_POSIX_CLOCK_SELECTION < 0)
+# if (_POSIX_CLOCK_SELECTION < 0) || defined(__UCLIBC__)
 /*
  * We cannot use the monotonic clock is clock selection is not available,
  * as it would screw vlc_cond_timedwait() completely. Instead, we have to
--- a/src/misc/threads.c	2009-07-09 13:54:08.000000000 +0000
+++ b/src/misc/threads.c	2009-07-09 13:54:32.000000000 +0000
@@ -474,7 +474,7 @@
    /* Fairly outdated POSIX support (that was defined in 2001) */
 #  define _POSIX_CLOCK_SELECTION (-1)
 # endif
-# if (_POSIX_CLOCK_SELECTION >= 0)
+# if (_POSIX_CLOCK_SELECTION >= 0) && !defined(__UCLIBC__)
     /* NOTE: This must be the same clock as the one in mtime.c */
     pthread_condattr_setclock (&attr, CLOCK_MONOTONIC);
 # endif
--- a/modules/stream_filter/decomp.c	2009-07-09 14:10:09.000000000 +0000
+++ b/modules/stream_filter/decomp.c	2009-07-09 14:11:37.000000000 +0000
@@ -28,7 +28,7 @@
 #include <vlc_network.h>
 #include <assert.h>
 #include <unistd.h>
-#ifndef _POSIX_SPAWN
+#if !defined(_POSIX_SPAWN) || defined(__UCLIBC__)
 # define _POSIX_SPAWN (-1)
 #endif
 #include <fcntl.h>
