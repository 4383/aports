# Contributor: Michael Mason <ms13sp@gmail.com>
# Maintainer: Michael Mason <ms13sp@gmail.com>
pkgname=trac
_realname=Trac
pkgver=0.11.7
pkgrel=0
pkgdesc="Trac is a minimalistic web-based project management, wiki and bug/issue tracking system."
url="http://trac.edgewall.com/"
license="GPL"
depends="python py-setuptools py-genshi py-sqlite"
makedepends="python-dev"
install=
source="ftp://ftp.edgewall.com/pub/$pkgname/$_realname-$pkgver.tar.gz
	tracd.confd
	tracd.initd"

_builddir="$srcdir"/$_realname-$pkgver

build() {
	cd "$_builddir"
	python setup.py install --prefix=/usr --root="$pkgdir"
}

package() {
	cd "$_builddir"

	install -m755 -D "$srcdir"/tracd.initd "$pkgdir"/etc/init.d/tracd
	install -m644 -D "$srcdir"/tracd.confd "$pkgdir"/etc/conf.d/tracd
}

md5sums="3cd96dad0e4f25d977c422fd6e985e99  Trac-0.11.7.tar.gz
95b1311ca65e1ffcd51a191542f45ba4  tracd.confd
e53761b1e84c5d68c8e6c4b837e57008  tracd.initd"
