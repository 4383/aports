# Contributor: Michael Mason <ms13sp@gmail.com>
# Maintainer: Michael Mason <ms13sp@gmail.com>
pkgname=trac
_realname=Trac
pkgver=0.11.7
pkgrel=0
pkgdesc="Trac is a minimalistic web-based project management, wiki and bug/issue tracking system."
url="http://trac.edgewall.com/"
license="GPL"
depends="python py-setuptools py-genshi py-sqlite"
makedepends="python-dev"
install=
source="ftp://ftp.edgewall.com/pub/$pkgname/$_realname-$pkgver.tar.gz
	trac.confd
	trac.initd"

_builddir="$srcdir"/$_realname-$pkgver

build() {
	cd "$_builddir"
	python setup.py install --prefix=/usr --root="$pkgdir"
}

package() {
	cd "$_builddir"

	install -m755 -D "$srcdir"/$pkgname.initd "$pkgdir"/etc/init.d/${pkgname}d
	install -m644 -D "$srcdir"/$pkgname.confd "$pkgdir"/etc/conf.d/${pkgname}d
}

md5sums="3cd96dad0e4f25d977c422fd6e985e99  Trac-0.11.7.tar.gz
70609adb7403e7badae33f9f4fdc4bf3  trac.confd
66b91da45fbc5ab25ec2e0e7356020e2  trac.initd"
