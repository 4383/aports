# Contributor: Carlo Landmeter <clandmeter@gmail.com>
# Maintainer:
pkgname=lua-turbo
pkgver=1.1
pkgrel=0
pkgdesc="a framework built for LuaJIT 2 and Linux"
url="http://www.turbolua.org/"
arch="all"
license="GPL"
depends="luajit"
depends_dev=""
makedepends="$depends_dev openssl-dev"
install=""
subpackages="$pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/kernelsauce/turbo/archive/v$pkgver.tar.gz"

_builddir="$srcdir/turbo-$pkgver"

prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	make || return 1
}

package() {
	cd "$_builddir"
	make -j1 PREFIX="$pkgdir"/usr install || return 1
}

md5sums="2224ced034263710e4d3e77ed3cb3671  lua-turbo-1.1.tar.gz"
sha256sums="35427a613e517ddb8b5a7964bba46b13482543bc1ba733d8f9026a56886351dc  lua-turbo-1.1.tar.gz"
sha512sums="232998411ccc67f3d13916861a1bfe893229625a645f8f9daa8834a33a22206bff759a62edb14a0c6cfaabead0ba71d07c5b9b80e393b3658c8aa564f362422c  lua-turbo-1.1.tar.gz"
