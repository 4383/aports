# Contributor:
# Maintainer: Leonardo Arena <rnalrd@alpine.linux.org>
pkgname=weechat
pkgver=0.4.0
pkgrel=0
pkgdesc="A fast, light, extensible ncurses-based chat client"
url="http://www.weechat.org"
arch="all"
license="GPL3+"
depends=""
depends_dev="cmake libiconv-dev libintl ncurses-dev gnutls-dev libgcrypt-dev
		lua-dev aspell-dev perl-dev python-dev curl-dev"
makedepends="$depends_dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://www.weechat.org/files/src/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	# apply patches here
}

build() {
	cd "$_builddir"
	mkdir -p build
	cd build
	cmake .. -DPREFIX=/usr || return 1
}

package() {
	cd "$_builddir"/build
	make DESTDIR="$pkgdir/" install || return 1
}

md5sums="6d3c0f338d4ec3fb3386becd1efa6ae1  weechat-0.4.0.tar.gz"
sha256sums="aca5ad1547653cbe5b672ffc41417a2a51c41c132b78ec5a9d6aad50959d5d9e  weechat-0.4.0.tar.gz"
sha512sums="1c34c406888350a4485f16cd6919ff9d3b8dfac6f51bde6c3c0b41971282af400c23d648ad39beaefaea7a2e74792ee1605136ea4de7a7d7fb1fe0b8c2f86201  weechat-0.4.0.tar.gz"
