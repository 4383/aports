# Maintainer: Bart≈Çomiej Piotrowski <nospam@bpiotrowski.pl>

pkgname=lxpanel
pkgver=0.6.2
pkgrel=1
pkgdesc='Lightweight X11 desktop panel'
arch='all'
url='http://lxde.org/'
license='GPL'
makedepends='gtk+2.0-dev alsa-lib-dev menu-cache-dev libwnck-dev
             wireless-tools-dev docbook-xml docbook-xsl intltool'
subpackages="$pkgname-doc $pkgname-dev $pkgname-lang"
source="http://downloads.sourceforge.net/sourceforge/lxde/lxpanel-$pkgver.tar.gz
	10-devproc-lxpanel-0.6.2.patch"

_builddir="$srcdir"/${pkgname}-${pkgver}
prepare() {
        local i
        cd "$_builddir"
        for i in $source; do
	case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
	esac
        done
}


build() {
  cd "$_builddir"
  CFLAGS="$CFLAGS -lgmodule-2.0" ./configure \
    --build=$CBUILD \
    --host=$CHOST \
    --prefix=/usr \
    --sysconfdir=/etc \
    --mandir=/usr/share/man \
    --infodir=/usr/share/info \
    --localstatedir=/var \
	|| return 1
  make || return 1
}

package() {
  cd "$_builddir"
  make DESTDIR="$pkgdir" install || return 1
}

md5sums="b074182b6effe46ccac97bf178de4e32  lxpanel-0.6.2.tar.gz
87ef3f86b272d1f50f6b0e770e40b095  10-devproc-lxpanel-0.6.2.patch"
sha256sums="f9ba6d0b825f7b99de045c3371738792bf9f3604af66bef4d98d783461c60a48  lxpanel-0.6.2.tar.gz
28afcd7f3cc1e2eec84d93ff49468224507b5d824c5692bb5915a2c90b6b2275  10-devproc-lxpanel-0.6.2.patch"
sha512sums="bd80f3cc9ff288a362e733fd26c31a90169d467f01f6df468bc6efb2a3c6ce4feeedba509a8562327bb0e21cf0ee56f4d42b7f4ca802622fa958e7e1b1a03f10  lxpanel-0.6.2.tar.gz
bf161826515ac031dfe035f9133167c4d3f42b40bf42732ef74166f6af9aeffc0195dc6c5326e8cb301f4efb4e299378997ef16908dd64e992470a5d4d03563d  10-devproc-lxpanel-0.6.2.patch"
