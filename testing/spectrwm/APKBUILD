# Contributor: Olivier Mauras <olivier@mauras.ch>
# Maintainer:
pkgname=spectrwm
pkgver=2.6.2
pkgrel=0
pkgdesc="A small dynamic tiling window manager for X11"
url="https://opensource.conformal.com/wiki/spectrwm"
arch="all"
license="ISC"
depends=""
depends_dev="xorg-server-dev libxrandr-dev libxcursor-dev libxft-dev xcb-util-dev xcb-util-wm-dev xcb-util-keysyms-dev libxt-dev"
makedepends="$depends_dev bsd-compat-headers"
install=""
subpackages="$pkgname-doc"
source="https://opensource.conformal.com/snapshots/$pkgname/$pkgname-$pkgver.tgz"

_builddir=$srcdir/$pkgname-$pkgver
prepare() {
   cd "$_builddir/linux"
   sed -i 's#^PREFIX.*#PREFIX  ?= /usr#' Makefile
}

build() {
   cd "$_builddir/linux"
   make
}

package() {
   cd "$_builddir/linux"
   make DESTDIR="$pkgdir" install || return 1
   # Copy sample scripts and conf
   mkdir "$pkgdir"/usr/share/$pkgname
   cp ../*.sh "$pkgdir"/usr/share/$pkgname
   cp ../*.conf "$pkgdir"/usr/share/$pkgname
}

md5sums="eba7cba0c85706435657f744bf9086bc  spectrwm-2.6.2.tgz"
sha256sums="eb9b33ee05b0625d59607f886d9ba7f0723bd863b503d66bdb592f5461c59459  spectrwm-2.6.2.tgz"
sha512sums="f1962df679ca07ca7d8c68a2d0b88331eda5c7cd35ecf1a5a63687984c1c67ef48fffb4e29d273fb1ccef9c9bb77a5ab12a09ef27b1d97abdc87dc20f38717f5  spectrwm-2.6.2.tgz"
