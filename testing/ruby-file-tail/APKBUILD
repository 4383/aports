# Contributor: Matt Smith <mcs@darkregion.net>
# Maintainer: Matt Smith <mcs@darkregion.net>
_gemname=file-tail
pkgname=ruby-$_gemname
pkgver=1.0.12
pkgrel=0
pkgdesc="Small library that allows Ruby to tail files."
url="http://flori.github.com/file-tail/"
arch="noarch"
license="GPL2"
depends="ruby ruby-tins"
depends_dev=""
makedepends="ruby-dev ruby-gems"
install=""
subpackages=""
source="http://rubygems.org/downloads/$_gemname-$pkgver.gem"

_builddir="$srcdir"/$_gemname-$pkgver
build() {
	mkdir -p "$_builddir" || return 1
	local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
	gem install $_gemname -v $pkgver -i "$_builddir"$_gemdir \
		--ignore-dependencies \
		--verbose \
		--no-rdoc \
		--no-ri \
		|| return 1
	rm -rf "$pkgdir"/$_gemdir/cache \
		"$pkgdir"/$_geminstdir/ext \
		"$pkgdir"/$_geminstdir/.require_paths
}

package() {
	mkdir -p "$pkgdir" || return 1
	cp -ra "$_builddir"/* "$pkgdir"/ || return 1
}

md5sums="409f4b5868a747e8f89939eaf9970e81  file-tail-1.0.5.gem"
sha256sums="6f9d986cb58e33ba31911dbc41d5e4baaf31552e9579fe9ed3f39beeafa8a86b  file-tail-1.0.5.gem"
sha512sums="5fd42996d9856673960a3f927d6185d732f4d05948e7ef0cba10e986e2e53acc0ae74520994634cab549a2ad9e12f1f7a66b7fc7864e3ac73c7e3c7a6bf806ba  file-tail-1.0.5.gem"
