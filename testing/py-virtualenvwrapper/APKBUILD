# Contributor: Herve Beraud <herveberaud.pro@gmail.com>
# Maintainer: Herve Beraud <herveberaud.pro@gmail.com>
pkgname=py-virtualenvwrapper
pkgver=4.8.0
pkgrel=0
pkgdesc="Enhancements to virtualenv"
url="https://bitbucket.org/virtualenvwrapper/virtualenvwrapper/"
arch="noarch"
license="non-free"
depends="python"
makedepends='python2-dev python3-dev py-setuptools py-pbr py2-pbr'
install=""
#subpackages="py2-${pkgname#py-}:_py2 py3-${pkgname#py-}:_py3"
subpackages=""
source="${pkgname}-${pkgver}.tar.gz::https://bitbucket.org/virtualenvwrapper/virtualenvwrapper/get/$pkgver.tar.gz"
builddir="$srcdir/"

build() {
	msg "Building python"
	cd "$builddir/virtualenvwrapper-virtualenvwrapper-c9300524289e"
	export PBR_VERSION=$pkgver
	python2 setup.py build || return 1
	python3 setup.py build || return 1
}

package() {
	msg "Packaging..."
	cd "$builddir/virtualenvwrapper-virtualenvwrapper-c9300524289e"
	export PBR_VERSION=$pkgver
	python setup.py install --prefix=/usr --root="$pkgdir" --skip-build
	install -Dm644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

sha512sums="912986356519da84fe5d113274ea69c10b26eb5f4d17b37e88e4b799a1d674e3ab1d04bbbf75411622f11534f2d1aeb771196a2f3cb1c4ea640bcb4cdcc6910d  py-virtualenvwrapper-4.8.0.tar.gz"
