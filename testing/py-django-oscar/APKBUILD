# Contributor: Kaarle Ritvanen <kaarle.ritvanen@datakunkku.fi>
# Maintainer:
pkgname=py-django-oscar
pkgver=1.1
pkgrel=3
pkgdesc="Domain-driven e-commerce for Django"
url=http://oscarcommerce.com/
arch=noarch
license=BSD
depends="py-babel py-django py-django-compressor py-django-extra-views
         py-django-haystack py-django-sorl-thumbnail py-django-tables2
         py-django-treebeard py-django-widget-tweaks py-factory-boy py-mock
         py-phonenumbers py-pillow py-purl py-unidecode"
makedepends=py-setuptools
source="https://pypi.python.org/packages/source/d/django-oscar/django-oscar-$pkgver.tar.gz
	fi-django.mo"

_builddir=$srcdir/django-oscar-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done

	cp -v "$srcdir/fi-django.mo" src/oscar/locale/fi/LC_MESSAGES/django.mo
}

build() {
	cd "$_builddir"
	./setup.py build
}

package() {
	cd "$_builddir"
	./setup.py install --root "$pkgdir"
}

md5sums="290bc1708c3ddb61f9ee55be9a90d7c1  django-oscar-1.1.tar.gz
892c7a7a38aaf189bdee783f46620e3d  fi-django.mo"
sha256sums="33b18e7854fde53d5ef2b0f8128974a31ae3049adc3a313002e0674ba1a1c4f1  django-oscar-1.1.tar.gz
9c8dc86b792b64ef623c50199248debab2287767f275de72a48eb18fbb26ad79  fi-django.mo"
sha512sums="73e630389a3beea4a0555bd05f3ee301be79adb6e10e1c84ee105a2c11c683be22791f44468cddcd48b5000f355e345ba6eb7c0d9cabb0c3c4fafb94a02cdf5b  django-oscar-1.1.tar.gz
36fb6c26e198754489b5fea9bcf25af1c82801c63dd3b23f252698bf094625fa23e437f19412fe89a5d24a065d7db715d89b649aa4ed4cdaec9c563654bdb0a2  fi-django.mo"
