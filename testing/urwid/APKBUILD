# Contributor: Matt Smith <mcs@darkregion.net>
# Maintainer: Matt Smith <mcs@darkregion.net>
pkgname=urwid
pkgver=0.9.9.1
pkgrel=1
pkgdesc="Urwid is a console user interface library for Python"
url="http://excess.org/urwid/"
license="LGPL"
depends="python"
makedepends="python-dev templayer"
install=
subpackages="$pkgname-doc"
source="http://excess.org/$pkgname/$pkgname-$pkgver.tar.gz
	"

_builddir="$srcdir"/$pkgname-$pkgver

prepare() {
	cd "$_builddir"
	# apply patches here
}

build() {
	cd "$_builddir"
	python setup.py build
	return 0
}

package() {
	cd "$_builddir"
	python setup.py install --root "$pkgdir"

	# generate tutorial examples, and copy documentation 
	python docgen_tutorial.py -s
	mkdir -p "$pkgdir"/usr/share/doc/$pkgname/tutorial_examples
	cp -a example*.py "$pkgdir"/usr/share/doc/$pkgname/tutorial_examples/
	install -Dm644 reference.html "$pkgdir"/usr/share/doc/$pkgname/reference.html
	install -Dm644 tutorial.html "$pkgdir"/usr/share/doc/$pkgname/tutorial.html
}

md5sums="4722cdf898f711dcae1121aa80920152  urwid-0.9.9.1.tar.gz"
