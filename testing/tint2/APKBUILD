# Contributor: Mari Hahn <mari.hahn@wwu.de>
# Contributor: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer:
pkgname=tint2
pkgver=0.12.2
pkgrel=0
pkgdesc="tint2 is a simple panel/taskbar unintrusive and light"
url="https://gitlab.com/o9000/tint2"
arch="all"
license="GPL2"
depends="imlib2 glib pango cairo libxcomposite libxdamage libxinerama libxrandr gtk+"
depends_dev="cmake imlib2-dev glib-dev pango-dev cairo-dev libxcomposite-dev
	libxdamage-dev libxinerama-dev libxrandr-dev gtk+-dev librsvg-dev startup-notification-dev"
makedepends="$depends_dev"
install=""
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://gitlab.com/o9000/${pkgname}/repository/archive.tar.gz?ref=${pkgver}"

_builddir="$srcdir"/$pkgname-$pkgver-dc300c021531f47cca336e15b50adf3b4a9bc9ae
build() {
	cd "$_builddir"
	cmake \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DBUILD_SHARED_LIBS=True \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_CXX_COMPILER="${CXX:-g++}" \
		-DCMAKE_C_COMPILER="${CC:-gcc}" \
		-DCMAKE_CXX_FLAGS="$CXXFLAGS" \
		-DCMAKE_CXX_FLAGS="$CFLAGS" \
		|| return 1
	make || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="${pkgdir}" install || return 1
}

md5sums="dae8bd857e2a885a4f118c803bc4fff7  tint2-0.12.2.tar.gz"
sha256sums="eb4743fde5939bcb644f82ee8a69fa87a7a45f07095aca8a4ba91886260b0113  tint2-0.12.2.tar.gz"
sha512sums="00be554f0cecac9a4f58bb6180489e27cb88b26c2fe9681970efb95e9c15c23443c94836315836cf319a72288d8b52e7035d9edcdba7678abe36f9590a98e2e4  tint2-0.12.2.tar.gz"
