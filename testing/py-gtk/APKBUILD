# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=py-gtk
pkgver=2.17.0
pkgrel=0
pkgdesc="Python bindings for the GTK widget set"
url="http://www.pygtk.org/"
license="LGPL"
depends=
makedepends="libglade-dev py-cairo-dev py-gobject-dev python-dev"
source="http://ftp.gnome.org/pub/gnome/sources/pygtk/2.17/pygtk-$pkgver.tar.bz2"
subpackages="$pkgname-dev $pkgname-doc $pkgname-demo"

_builddir="$srcdir"/pygtk-$pkgver
build() {
	cd "$_builddir"
	./configure --prefix=/usr || return 1
	make || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	install -m644 gtk/gtk-extrafuncs.defs ""$pkgdir"/usr/share/pygtk/2.0/defs/" || return 1
}

demo() {
	pkgdesc="Demonstration of pygtk"
	depends="py-gtk"
	mkdir -p "$subpkgdir"/usr/bin "$subpkgdir"/usr/lib/pygtk/2.0
	mv "$pkgdir"/usr/bin/pygtk-demo "$subpkgdir"/usr/bin/
	mv "$pkgdir"/usr/lib/pygtk/2.0/*demo* \
		"$subpkgdir"/usr/lib/pygtk/2.0/
}
md5sums="43d704343d7ca04a6e4ddd4fa73a3c55  pygtk-2.17.0.tar.bz2"
