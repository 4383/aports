From 08723e68df9988a8253ee0785937c3167cf74130 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Sebastian=20Dr=C3=B6ge?= <sebastian@centricular.com>
Date: Fri, 20 Jan 2017 07:51:09 +0200
Subject: [PATCH] mxfdemux: Set stream tags to NULL after unreffing

Otherwise we might try to unref them a second time a little bit later.

https://bugzilla.gnome.org/show_bug.cgi?id=777503
---
 gst/mxf/mxfdemux.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/gst/mxf/mxfdemux.c b/gst/mxf/mxfdemux.c
index a380f6d..54ceec1 100644
--- a/gst/mxf/mxfdemux.c
+++ b/gst/mxf/mxfdemux.c
@@ -835,6 +835,7 @@ gst_mxf_demux_update_essence_tracks (GstMXFDemux * demux)
         etrack->mapping_data = NULL;
         if (etrack->tags)
           gst_tag_list_unref (etrack->tags);
+        etrack->tags = NULL;
         goto next;
       } else if (!caps) {
         GST_WARNING_OBJECT (demux, "Couldn't create updated caps for stream");
