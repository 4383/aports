# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=zlib
pkgver=1.2.3.4
pkgrel=1
pkgdesc="A compression/decompression Library"
license=custom:zlib
url="http://www.gzip.org/zlib"
depends=
source="ftp://ftp.archlinux.org/other/$pkgname/$pkgname-$pkgver.tar.gz"
subpackages="$pkgname-dev $pkgname-doc"

build() {
	cd "$srcdir/$pkgname-$pkgver"
	./configure --prefix=/usr --libdir=/lib --shared
	make || return 1
}

package() {
	cd "$srcdir/$pkgname-$pkgver"
	make install \
		pkgconfigdir="/usr/lib/pkgconfig" \
		LIBS="libz.so.1.2.3.4 libz.a" \
		DESTDIR="$pkgdir" || return 1
}

dev() {
	default_dev
	mkdir -p "$subpkgdir"/lib
	mv "$pkgdir"/lib/libz.a "$subpkgdir"/lib/libz.a
}

md5sums="70cad33163abe3c234939a5c63bf95ea  zlib-1.2.3.4.tar.gz"
