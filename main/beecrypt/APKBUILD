#!/bin/sh
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=beecrypt
pkgver=4.1.2
pkgrel=2
pkgdesc="general-purpose cryptography library"
url="http://sourceforge.net/projects/beecrypt"
license="LGPL"
depends=
makedepends="uclibc++-dev libtool"

subpackages="$pkgname-dev"
source="http://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz
	$pkgname-4.1.2-base64.patch
	"

build() {
	cd "$srcdir/$pkgname-$pkgver"
	export CXX=${CXX_UC:-g++-uc}

	for i in ../*.patch; do
		msg "Applying $i..."
		patch -p1 < $i || return 1
	done

	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--disable-threads \
		--enable-shared \
		--without-java \
		--without-python \
		--with-cplusplus=no

	make || return 1
	make DESTDIR="$pkgdir" install
}
md5sums="820d26437843ab0a6a8a5151a73a657c  beecrypt-4.1.2.tar.gz
01444edbffee71c2d8818fa66a3a8555  beecrypt-4.1.2-base64.patch"
