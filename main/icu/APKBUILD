# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=icu
pkgver=4.4
_ver=4_2_1
pkgrel=1
pkgdesc="International Components for Unicode library"
url="http://www.icu-project.org/"
license="custom:icu"
subpackages="$pkgname-dev $pkgname-doc"
depends=""
makedepends="uclibc++-dev"
source="http://download.icu-project.org/files/icu4c/${pkgver}/${pkgname}4c-$_ver-src.tgz"

_builddir="$srcdir"/icu/source

build() { 
	cd "$_builddir"
	export CXX=g++-uc
	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man
	make || return 1
}

package() {
	cd "$_builddir"
	make -j1 DESTDIR="$pkgdir" install || return 1
	chmod +x "$pkgdir"/usr/bin/icu-config
	install -Dm644 "$srcdir"/icu/license.html \
		"$pkgdir"/usr/share/licenses/icu/license.html
}
md5sums="e3738abd0d3ce1870dc1fd1f22bba5b1  icu4c-4_2_1-src.tgz"
