From 287bb3324652e0e3086eefa62a6a1593331c9143 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Timo=20Ter=C3=A4s?= <timo.teras@iki.fi>
Date: Fri, 20 Aug 2010 14:14:22 +0300
Subject: [PATCH] member: do not exit with error if join_conference() fails
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

This causes Asterisk to hangup the call, but it was not intended
as join_conference() sets dialplan variable properly to indicate
error.

Signed-off-by: Timo Ter√§s <timo.teras@iki.fi>
---
 konference/member.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/konference/member.c b/konference/member.c
index 863e34d..5370e73 100644
--- a/konference/member.c
+++ b/konference/member.c
@@ -755,12 +755,11 @@ int member_exec( struct ast_channel* chan, void* data )
 	//
 
 	conf = join_conference( member, recfile, recformat ) ;
-
 	if ( conf == NULL )
 	{
 		ast_log( LOG_NOTICE, "unable to setup member conference %s\n", member->conf_name) ;
 		delete_member( member) ;
-		return -1;
+		return 0;
 	}
 
 	//
-- 
1.7.0.4

