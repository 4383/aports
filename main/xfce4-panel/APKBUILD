# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=xfce4-panel
pkgver=4.7.4
pkgrel=1
pkgdesc="Panel for the Xfce desktop environment"
url="http://www.xfce.org/"
license="GPL-2"
subpackages="$pkgname-dev $pkgname-doc"
depends="hicolor-icon-theme"
makedepends="libxfce4ui-dev exo-dev garcon-dev libwnck-dev" 
install=
source="http://archive.xfce.org/src/xfce/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.bz2
	6792.patch
	dont-destroy-the-about-dialog.patch
	allow-using-enter.patch
	drop-the-automatics-grouping.patch
	"

depends_dev="libxfce4util-dev gtk+-dev"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}
build() {
	cd "$srcdir"/$pkgname-$pkgver
	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--libexecdir=/usr/lib \
		--localstatedir=/var \
		--disable-static
	make
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="20a9afd50066a2c8a607f90eaec29cfa  xfce4-panel-4.7.4.tar.bz2
7b0cd40e47ab64fa80c763d9a22ea848  6792.patch
039c3f3351920c0ae56e5676099c4bd5  dont-destroy-the-about-dialog.patch
c83d70479ecd2740d924d7e37e880689  allow-using-enter.patch
d248aa7918a4449145bf28f4670400d1  drop-the-automatics-grouping.patch"
