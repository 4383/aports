# Automatically generated by apkbuild-cpan, template 1
# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=perl-sub-identify
_pkgreal=Sub-Identify
pkgver=0.10
pkgrel=0
pkgdesc="Retrieve names of code references"
url="http://search.cpan.org/dist/Sub-Identify/"
arch="all"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/R/RG/RGARCIA/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	export CFLAGS=`perl -MConfig -E 'say $Config{ccflags}'`
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="08bb2f22c85007d2cbb0eb9541c77355  Sub-Identify-0.10.tar.gz"
sha256sums="55586b9cb3c0e63b6c6dede5a8c00af48de6643592ea100fe1e6146e1e93ee20  Sub-Identify-0.10.tar.gz"
sha512sums="e6450e42a5bd8c2da42503bf6b54078b478056cd8d3c5c1c750ea09c7a5835aa7ec9df45fa5b00c6f9d86390f2a32b2f31ce582d2af4bfd9bcbe215a88831e99  Sub-Identify-0.10.tar.gz"
