# Contributor: Jeremy Thomerson <jeremy@thomersonfamily.com>
# Maintainer: Jeremy Thomerson <jeremy@thomersonfamily.com>
pkgname=wireshark
pkgver=1.2.4
pkgrel=0
pkgdesc="A free network protocol analyzer for Unix/Linux and Windows formerly known as Ethereal"
url="http://www.wireshark.org"
license="GPLv2"
depends="gnutls bash heimdal"
makedepends="bison flex perl glib glib-dev pkgconfig libpcap-dev libcap-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://www.wireshark.org/download/src/${pkgname}-${pkgver}.tar.bz2"

# append extra dependencies to -dev subpackage
# remove if not used.
# depends_dev="somepackage-dev"

build() {
	cd "$srcdir"/$pkgname-$pkgver

	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info \
		--disable-wireshark \
		--disable-editcap \
		--disable-mergecap \
		--disable-text2pcap \
		--disable-idl2wrs \
		--disable-dftest \
		--disable-randpkt
	make
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install
}

md5sums="ae4533da7d0e54c236e1eed966c42163  wireshark-1.2.4.tar.bz2"
