--- a/libc/inet/resolv.c.orig	2009-06-18 09:38:26.000000000 +0300
+++ b/libc/inet/resolv.c	2009-06-18 09:38:32.000000000 +0300
@@ -1337,10 +1337,9 @@ int res_query(const char *dname, int cla
 
 	free(a.dotted);
 
-	if (a.atype == type) { /* CNAME */
-		i = MIN(anslen, i);
-		memcpy(answer, packet, i);
-	}
+	i = MIN(anslen, i);
+	memcpy(answer, packet, i);
+
 	free(packet);
 	return i;
 }
