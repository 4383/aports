# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=iw
pkgver=3.8
pkgrel=0
pkgdesc="nl80211 based CLI configuration utility for wireless devices"
url="http://wireless.kernel.org/en/users/Documentation/iw"
arch="all"
license="GPL"
depends=""
makedepends="libnl3-dev"
source="https://www.kernel.org/pub/software/network/$pkgname/$pkgname-$pkgver.tar.xz
	iw-git-version.patch"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch)
			msg "Applying $i"
			patch -p1 -i "$srcdir"/$i || return 1
			;;
		esac
	done
}

build () {
	cd "$_builddir"
	make V=1 || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="2aae163b7c3b581b7d94f34a5d3e47d8  iw-3.8.tar.xz
779d0e73df6e484c071149c9fb720551  iw-git-version.patch"
sha256sums="50c07d5fcf38240b3912fb6950f6ec566b8d27c321cbdacc1de53fc3be96af9a  iw-3.8.tar.xz
ab3f3b154b6ee19c83bfa6e1812b0c17fe8d476c0747ec436105be4f04496f4b  iw-git-version.patch"
sha512sums="267330b7f8ff2d3858e16782d6ad21f3b04fc62eccd44d5cad104946e1bdd4f3ea1ace40781c4e93d3b85d690f1a4cee3be1a10aa3ba1d036f8296453b8c346a  iw-3.8.tar.xz
f8a1ec317a199d895b4ad8d24243e38fe832a38b0e0de94c2230208395b99fe4d7253ccebb92021f8847cf3e4fae28addddbc2aa7538b5bb0d07983987613a32  iw-git-version.patch"
