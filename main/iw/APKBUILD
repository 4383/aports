# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=iw
pkgver=3.10
pkgrel=0
pkgdesc="nl80211 based CLI configuration utility for wireless devices"
url="http://wireless.kernel.org/en/users/Documentation/iw"
arch="all"
license="GPL"
depends=""
makedepends="libnl3-dev"
source="https://www.kernel.org/pub/software/network/$pkgname/$pkgname-$pkgver.tar.xz
	iw-git-version.patch"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch)
			msg "Applying $i"
			patch -p1 -i "$srcdir"/$i || return 1
			;;
		esac
	done
}

build () {
	cd "$_builddir"
	make V=1 || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="07219ad06535bc270f7a8873aba6d5fa  iw-3.10.tar.xz
779d0e73df6e484c071149c9fb720551  iw-git-version.patch"
sha256sums="456ee212cfb728e292667caa508a7dff902666c78579814756a3012d68d64fe9  iw-3.10.tar.xz
ab3f3b154b6ee19c83bfa6e1812b0c17fe8d476c0747ec436105be4f04496f4b  iw-git-version.patch"
sha512sums="8cf38664b3eb9cfaf5c2c0c70376fc35d069eb4615af7c706253e9a111811be11c8d44d6c4205e8299db490dd9713faf4029ad2167a28f7305606e4683ac9f1b  iw-3.10.tar.xz
f8a1ec317a199d895b4ad8d24243e38fe832a38b0e0de94c2230208395b99fe4d7253ccebb92021f8847cf3e4fae28addddbc2aa7538b5bb0d07983987613a32  iw-git-version.patch"
