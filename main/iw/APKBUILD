# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=iw
pkgver=3.11
pkgrel=0
pkgdesc="nl80211 based CLI configuration utility for wireless devices"
url="http://wireless.kernel.org/en/users/Documentation/iw"
arch="all"
license="GPL"
depends=""
makedepends="libnl3-dev"
source="https://www.kernel.org/pub/software/network/$pkgname/$pkgname-$pkgver.tar.xz
	iw-git-version.patch"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch)
			msg "Applying $i"
			patch -p1 -i "$srcdir"/$i || return 1
			;;
		esac
	done
}

build () {
	cd "$_builddir"
	make V=1 || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="e536d5472bf4833950cc7e41b67ad719  iw-3.11.tar.xz
779d0e73df6e484c071149c9fb720551  iw-git-version.patch"
sha256sums="e90327323821a8219abac56298919076c4bac6636464ca91356f02cfe40530ff  iw-3.11.tar.xz
ab3f3b154b6ee19c83bfa6e1812b0c17fe8d476c0747ec436105be4f04496f4b  iw-git-version.patch"
sha512sums="2fc7402a090593a9ebaf12452c89bc39e5781194ecb3934c7722397cdb5d546893d72b92176be286d22b5f36c5d0f9a5314289c3cd7ff07ab6036712d01d6e65  iw-3.11.tar.xz
f8a1ec317a199d895b4ad8d24243e38fe832a38b0e0de94c2230208395b99fe4d7253ccebb92021f8847cf3e4fae28addddbc2aa7538b5bb0d07983987613a32  iw-git-version.patch"
