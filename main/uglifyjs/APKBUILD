# Maintainer: Eivind Uggedal <eivind@uggedal.com>
pkgname=uglifyjs
_pkgname=uglify-js
pkgver=2.4.15
pkgrel=0
pkgdesc="JavaScript parser, compressor and beautifier"
url="http://lisperator.net/uglifyjs/"
arch="noarch"
license="BSD"
depends="nodejs nodejs-async nodejs-source-map nodejs-optimist
	nodejs-uglify-to-browserify"
depends_dev=""
makedepends="$depends_dev"
install=""
subpackages=""
source="https://registry.npmjs.org/$_pkgname/-/$_pkgname-$pkgver.tgz"

_builddir="$srcdir/package"
_moduledir=usr/lib/node_modules/$_pkgname

package() {
	cd "$_builddir"

	mkdir -p "$pkgdir"/$_moduledir
	cp -pr package.json bin lib tools "$pkgdir"/$_moduledir

	mkdir -p "$pkgdir"/usr/bin
	ln -s ../../$_moduledir/bin/$pkgname "$pkgdir"/usr/bin/$pkgname
}

md5sums="0ff5a22201c1f34a3dec804bf4b59962  uglify-js-2.4.15.tgz"
sha256sums="4a2082745a826c8d0f75058eb696e2efd1d168336e321cfe88d1d2d94ae3d9df  uglify-js-2.4.15.tgz"
sha512sums="64ad749f4635aa8477439249b558e6dde6d26445765420c0ea0f81672a251913883028ed633b7e52d7eb3cc697de29f07267b009b91d5fbf2da331799ab27c64  uglify-js-2.4.15.tgz"
