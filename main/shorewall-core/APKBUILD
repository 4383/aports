# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=shorewall-core
pkgver=4.5.21.3

_ver=$pkgver
case $pkgver in
*.*.*.*) _ver=${pkgver%.*};;
esac

pkgrel=0
pkgdesc="Core libraries for Shorewall"
url="http://www.shorewall.net/"
arch="noarch"
license="GPL-2"
depends=""
# coreutils for install -T
makedepends="coreutils bash"
replaces=""
subpackages=""
source="http://www1.shorewall.net/pub/shorewall/${_ver%.*}/shorewall-$_ver/shorewall-core-$pkgver.tar.bz2
	"

_builddir="$srcdir/$pkgname-$pkgver"
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	./configure MANDIR=/usr/share/man SBINDIR=/usr/sbin || return 1
}

package() {
	cd "$_builddir"
	DESTDIR="$pkgdir" ./install.sh || return 1
}

md5sums="2503c3b41183993600a2d9860e49de61  shorewall-core-4.5.21.3.tar.bz2"
sha256sums="220725caf825ff0df7c7cf8e78866ec80c847e8b9160cdb8fbc19613248bdc2a  shorewall-core-4.5.21.3.tar.bz2"
sha512sums="b363968360dc272b9c557c2d34cf8789cd048c6be9b7b2f0f67e323cd3bc8cfdce9c8ba3b1757f1c2f17f8bf37522852eb29c8436468c942a86ae5bd7451d4c4  shorewall-core-4.5.21.3.tar.bz2"
