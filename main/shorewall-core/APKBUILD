# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=shorewall-core
pkgver=4.5.21.4

_ver=$pkgver
case $pkgver in
*.*.*.*) _ver=${pkgver%.*};;
esac

pkgrel=0
pkgdesc="Core libraries for Shorewall"
url="http://www.shorewall.net/"
arch="noarch"
license="GPL-2"
depends=""
# coreutils for install -T
makedepends="coreutils bash"
replaces=""
subpackages=""
source="http://www1.shorewall.net/pub/shorewall/${_ver%.*}/shorewall-$_ver/shorewall-core-$pkgver.tar.bz2
	"

_builddir="$srcdir/$pkgname-$pkgver"
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	./configure MANDIR=/usr/share/man SBINDIR=/usr/sbin || return 1
}

package() {
	cd "$_builddir"
	DESTDIR="$pkgdir" ./install.sh || return 1
}

md5sums="93862a5928bf6e2a1c182edc7d933dd5  shorewall-core-4.5.21.4.tar.bz2"
sha256sums="f4a0c6b4789be28ac20ea3a0b8136f9aab72ad1399afa84714097fc6ad66dd1c  shorewall-core-4.5.21.4.tar.bz2"
sha512sums="a8b87d43794731e91cf785a297b5b0ec8df4fa81c759ab43f0f7d091bec2802b05426e99b0b0e379495832c7be298e9013b87e5e08c1429b93ecd30f3b0c728d  shorewall-core-4.5.21.4.tar.bz2"
