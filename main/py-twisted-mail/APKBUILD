# Contributor: Jeff Bilyk <jbilyk@alpinelinux.org>
# Maintainer:
pkgname=py-twisted-mail
_pkgname=TwistedMail
pkgver=13.0.0
pkgrel=0
pkgdesc="Python Twisted Mail library"
url="http://twistedmatrix.com/trac/wiki/TwistedMail"
arch="noarch"
license="MIT"
depends="py-twisted"
makedepends="python-dev"
source="http://twistedmatrix.com/Releases/Mail/${pkgver%.*}/$_pkgname-$pkgver.tar.bz2"

_builddir="$srcdir"/$_pkgname-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	python setup.py build || return 1
}

package() {
	cd "$_builddir"
	python setup.py install --prefix=/usr --root="$pkgdir" || return 1
}

md5sums="8e55e10fe6b41fc5835d6040096d743b  TwistedMail-13.0.0.tar.bz2"
sha256sums="ff9c231dc9f1603374363ca7e5cb30c253032f551a02ca8ef74f0d5adcb99b2e  TwistedMail-13.0.0.tar.bz2"
sha512sums="7d4be4d8bed37743696430aef4a827bdbaf7a5ea094259ef6fc7612955d95f3ef6b10cd08a6af5cf4111608ef93e07701be2f945e507f7c5c62e0997018e5b3f  TwistedMail-13.0.0.tar.bz2"
