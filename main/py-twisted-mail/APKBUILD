# Contributor: Jeff Bilyk <jbilyk@alpinelinux.org>
# Maintainer:
pkgname=py-twisted-mail
_pkgname=TwistedMail
pkgver=12.3.0
pkgrel=0
pkgdesc="Python Twisted Mail library"
url="http://twistedmatrix.com/trac/wiki/TwistedMail"
arch="noarch"
license="MIT"
depends="py-twisted"
makedepends="python-dev"
source="http://twistedmatrix.com/Releases/Mail/${pkgver%.*}/$_pkgname-$pkgver.tar.bz2"

_builddir="$srcdir"/$_pkgname-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	python setup.py build || return 1
}

package() {
	cd "$_builddir"
	python setup.py install --prefix=/usr --root="$pkgdir" || return 1
}

md5sums="c285ce7e7b2d8e606b3d35a26b025bad  TwistedMail-12.3.0.tar.bz2"
sha256sums="339f04f9d49f9be2945086c7d1ffb530bcbc653ae0151d3fa0bd899ad82034b0  TwistedMail-12.3.0.tar.bz2"
sha512sums="9e6b5eaddfe7ec460b702a9c376c5c4e98cc2e5ea2b1c2bde87ddb93fd49eb9be1d489e7a2d3f56b1e281c79acb3a7a02a7e41268c0c2844e4aaf29fbce5e251  TwistedMail-12.3.0.tar.bz2"
