--- ./src/mod/languages/mod_lua/Makefile.am.orig
+++ ./src/mod/languages/mod_lua/Makefile.am
@@ -3,15 +3,12 @@
 
 MODNAME=mod_lua
 
-LUA_DIR=$(switch_srcdir)/src/mod/languages/mod_lua/lua
-LIBLUA_A=$(LUA_DIR)/liblua.a
-
 AM_CFLAGS += $(CFLAGS) -D_GNU_SOURCE
 mod_LTLIBRARIES = mod_lua.la
-mod_lua_la_SOURCES = mod_lua.cpp freeswitch_lua.cpp mod_lua_wrap.cpp lua/lapi.c lua/lcode.c lua/lctype.c lua/ldebug.c lua/ldo.c lua/ldump.c lua/lfunc.c lua/lgc.c lua/llex.c lua/lmem.c lua/lobject.c lua/lopcodes.c lua/lparser.c lua/lstate.c lua/lstring.c lua/ltable.c lua/ltm.c lua/lundump.c lua/lvm.c lua/lzio.c lua/lauxlib.c lua/lbaselib.c lua/lbitlib.c lua/lcorolib.c lua/ldblib.c lua/liolib.c lua/lmathlib.c lua/loslib.c lua/lstrlib.c lua/ltablib.c lua/loadlib.c lua/linit.c
-mod_lua_la_CXXFLAGS = -I$(LUA_DIR) $(AM_CPPFLAGS) -DLUA_USE_LINUX
-mod_lua_la_CFLAGS = -I$(LUA_DIR) $(AM_CPPFLAGS) -DLUA_USE_LINUX
-mod_lua_la_LIBADD = $(switch_builddir)/libfreeswitch.la 
+mod_lua_la_SOURCES = mod_lua.cpp freeswitch_lua.cpp mod_lua_wrap.cpp
+mod_lua_la_CXXFLAGS = $(LUA_CFLAGS) $(AM_CPPFLAGS) -DLUA_USE_LINUX
+mod_lua_la_CFLAGS = $(LUA_CFLAGS) $(AM_CPPFLAGS) -DLUA_USE_LINUX
+mod_lua_la_LIBADD = $(switch_builddir)/libfreeswitch.la $(LUA_LIBS)
 mod_lua_la_LDFLAGS = -avoid-version -module -no-undefined -shared -lm $(AM_LDFLAGS) $(SOLINK) #$(LIBLUA_A)
 
 #BUILT_SOURCES = $(LIBLUA_A)
--- ./configure.ac.orig
+++ ./configure.ac
@@ -1376,6 +1376,8 @@
 
 CHECK_ERLANG
 
+PKG_CHECK_MODULES(LUA, lua5.2, [have_lua=yes], [have_lua=no])
+
 # we never use this, and hard setting it will make cross compile work better
 ac_cv_file_dbd_apr_dbd_mysql_c=no
 
