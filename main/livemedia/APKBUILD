# Contributor: 
# Maintainer: 
pkgname=livemedia
pkgver=2010.11.17
pkgrel=0
pkgdesc="multimedia RTSP streaming library"
url="http://live555.com/liveMedia/"
license="LGPL"
depends=
makedepends="g++"
install=
subpackages=""
source="http://live555.com/liveMedia/public/live.$pkgver.tar.gz"

_builddir="$srcdir"/live
prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
	sed -i -e "/^COMPILE_OPTS/s/$/ -fPIC -DPIC/" config.linux
	./genMakefiles linux
	make || return 1
}

package() {
	cd "$_builddir"
	mkdir -p "$pkgdir"/usr/lib
	for f in BasicUsageEnvironment UsageEnvironment liveMedia groupsock; do
		mkdir -p "$pkgdir"/usr/include/$f
		cp $f/include/*.h* "$pkgdir"/usr/include/$f
		cp $f/lib${f}.a "$pkgdir"/usr/lib
	done
}

md5sums="f08e00a18bf4cd5058e05a869b934d4e  live.2010.11.17.tar.gz"
