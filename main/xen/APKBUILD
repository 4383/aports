# Contributor: William Pitcock <nenolod@dereferenced.org>
# Contributor: Roger Pau Monne <roger.pau@entel.upc.edu>
# Maintainer: William Pitcock <nenolod@dereferenced.org>
pkgname=xen
pkgver=4.4.2
pkgrel=7
pkgdesc="Xen hypervisor"
url="http://www.xen.org/"
arch="x86_64"
license="GPL"
depends="syslinux bash iproute2 logrotate"
depends_dev="openssl-dev python-dev e2fsprogs-dev gettext zlib-dev ncurses-dev
	libiconv-dev dev86 texinfo perl iasl pciutils-dev glib-dev yajl-dev
	spice-dev gnutls-dev curl-dev libaio-dev lzo-dev xz-dev util-linux-dev
	e2fsprogs-dev linux-headers"
makedepends="$depends_dev autoconf automake libtool"
install=""
subpackages="$pkgname-doc $pkgname-dev $pkgname-libs $pkgname-hypervisor
	py-$pkgname:_py"
source="http://bits.xensource.com/oss-xen/release/$pkgver/$pkgname-$pkgver.tar.gz
	xsa125-4.4.patch
	xsa126-qemuu.patch
	xsa126-qemut.patch
	xsa127-4.x.patch
	xsa132.patch
	xsa133-qemut.patch
	xsa133-qemuu.patch
	xsa134.patch
	xsa135-qemut-1.patch
	xsa135-qemut-2.patch
	xsa135-qemuu-4.5-1.patch
	xsa135-qemuu-4.5-2.patch
	xsa136.patch
	xsa156-4.4.patch
	xsa159.patch
	xsa160-4.4.patch
	xsa165-4.5.patch
	xsa167-4.4.patch
	xsa168.patch
	xsa170-4.5.patch
	xsa172.patch
	xsa173-4.4.patch

	0001-libxl-Record-backend-frontend-paths-in-libxl-DOMID.patch
	0002-libxl-Provide-libxl__backendpath_parse_domid.patch
	0003-libxl-Do-not-trust-frontend-in-libxl__devices_destro.patch
	0004-libxl-Do-not-trust-frontend-in-libxl__device_nextid.patch
	0005-libxl-Do-not-trust-frontend-for-disk-eject-event.patch
	0006-libxl-Do-not-trust-frontend-for-disk-in-getinfo.patch
	0007-libxl-Do-not-trust-frontend-for-vtpm-list.patch
	0008-libxl-Do-not-trust-frontend-for-vtpm-in-getinfo.patch
	0009-libxl-Do-not-trust-frontend-for-nic-in-libxl_devid_t.patch
	0010-libxl-Do-not-trust-frontend-for-nic-in-getinfo.patch

	xsa176.patch

	0001-libxl-Make-copy-of-every-xs-backend-in-libxl-in-_gen.patch
	0002-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-excep.patch
	0003-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-uuid.patch
	0004-libxl-cdrom-eject-and-insert-write-to-libxl.patch
	0005-libxl-Do-not-trust-backend-for-disk-eject-vdev.patch
	0006-libxl-Do-not-trust-backend-for-disk-fix-driver-domai.patch
	0007-libxl-Do-not-trust-backend-for-disk-in-getinfo.patch
	0008-libxl-Do-not-trust-backend-for-cdrom-insert.patch
	0009-libxl-Rename-libxl__device_nic_from_xs_be-to-_from_x.patch
	0010-libxl-Rename-READ_BACKEND-to-READ_LIBXLDEV.patch
	0011-libxl-Have-READ_LIBXLDEV-use-libxl_path-rather-than-.patch
	0012-libxl-Do-not-trust-backend-in-nic-getinfo.patch
	0013-libxl-Do-not-trust-backend-for-nic-in-devid_to_devic.patch
	0014-libxl-Do-not-trust-backend-for-nic-in-list.patch

	qemu-coroutine-gthread.patch
	qemu-xen-musl-openpty.patch
	qemu-xen_paths.patch

	hotplug-vif-vtrill.patch
	0001-ipxe-dont-clobber-ebp.patch

	init-xenstore-domain.patch

	musl-support.patch
	musl-hvmloader-fix-stdint.patch
	stdint_local.h
	elf_local.h

	xen-hotplug-lockfd.patch
	xen-fd-is-file.c

	xenstored.initd
	xenstored.confd
	xenconsoled.initd
	xenconsoled.confd
	xendomains.initd
	xendomains.confd
	xen-consoles.logrotate
	xenqemu.confd
	xenqemu.initd
	"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	local i
	cd "$_builddir"

	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done

	# install our stdint_local.h and elf_local.h
	install "$srcdir"/stdint_local.h "$srcdir"/elf_local.h \
		"$_builddir"/tools/firmware/ || return 1

	# remove all -Werror
	msg "Eradicating -Werror..."
	find . -name '*.mk' -o -name 'Make*' | xargs sed -i -e 's/-Werror//g' \
		|| return 1

	msg "Updating config.sub..."
	update_config_sub || return 1

	msg "Autoreconf..."
	autoreconf || return 1

	unset CFLAGS
	unset LDFLAGS
}

# Unset CFLAGS and LDFLAGS because the xen build system
# doesn't support them. Instead use .config in xen root
# folder if necessary.
munge_cflags() {
	msg "Munging CFLAGS..."

	unset CFLAGS
	unset LDFLAGS
	unset LANG
	unset LC_ALL
}

# These tasks are added as separate tasks to enable a packager
# to invoke specific tasks like building the hypervisor.  i.e.
#    $ abuild configure build_tools
configure() {
	cd "$_builddir"

	msg "Running configure..."
	./configure --prefix=/usr \
		--build=$CBUILD \
		--host=$CHOST \
		|| return 1
}

build_hypervisor() {
	munge_cflags

	msg "Building hypervisor..."
	make xen || return 1
}

build_tools() {
	munge_cflags

	msg "Building tools..."
	make tools || return 1
}

build_docs() {
	munge_cflags

	msg "Building documentation..."
	make docs ||Â return 1
}

build_stubdom() {
	munge_cflags

	msg "Building stub domains..."
	make stubdom || return 1
}

build() {
	cd "$_builddir"

	configure || return 1
	build_hypervisor || return 1
	build_tools || return 1
	build_docs || return 1
	build_stubdom || return 1

	${CC:-gcc} -o xen-fd-is-file "$srcdir"/xen-fd-is-file.c
}

package() {
	cd "$_builddir"

	unset CFLAGS
	unset LDFLAGS

	make -j1 DESTDIR="$pkgdir" install-xen install-tools install-docs \
		install-stubdom || return 1

	# remove default xencommons
	rm -rf "$pkgdir"/etc/init.d/xencommons

	for i in $source; do
		case $i in
		*.initd) install -Dm755 "$srcdir"/$i \
				"$pkgdir"/etc/init.d/${i%.*};;
		*.confd) install -Dm644 "$srcdir"/$i \
				"$pkgdir"/etc/conf.d/${i%.*};;
		esac
	done
	install -Dm644 "$srcdir"/xen-consoles.logrotate \
		"$pkgdir"/etc/xen/xen-consoles.logrotate

	install -m755 xen-fd-is-file "$pkgdir"/usr/lib/xen/bin/xen-fd-is-file
}

libs() {
	pkgdesc="Libraries for Xen tools"
	replaces="xen"
	depends=
	mkdir -p "$subpkgdir"/usr/lib
	mv "$pkgdir"/usr/lib/*.so.* \
		"$pkgdir"/usr/lib/fs \
		"$subpkgdir"/usr/lib/
}

hypervisor() {
	pkgdesc="Xen hypervisor"
	depends=
	mkdir -p "$subpkgdir"
	mv "$pkgdir"/boot "$subpkgdir"/
}

_py() {
	pkdesc="Python bindings and tools for Xen"
	depends=
	mkdir -p "$subpkgdir"/usr/lib/xen/bin \
		"$subpkgdir"/usr/bin \
		"$subpkgdir"/usr/sbin \
		|| return 1
	mv "$pkgdir"/usr/lib/python* "$subpkgdir"/usr/lib/
	mv "$pkgdir"/usr/bin/xencons \
		"$pkgdir"/usr/bin/xentrace_format \
		"$subpkgdir"/usr/bin/ || return 1
	mv "$pkgdir"/usr/sbin/xenmon.py \
		"$pkgdir"/usr/sbin/xen-ringwatch \
		"$pkgdir"/usr/sbin/xen-python-path \
		"$subpkgdir"/usr/sbin/ || return 1
	mv "$pkgdir"/usr/lib/xen/bin/pygrub \
		"$pkgdir"/usr/lib/xen/bin/xenpvnetboot \
		"$subpkgdir"/usr/lib/xen/bin/ || return 1

	# verify we dont have any python deps in main package left
	if find "$pkgdir" -type f -print 0 | xargs -0 file --mime-type \
			| grep python; then
		return 1
	fi
}

md5sums="1812261459564147e6b9105115c511aa  xen-4.4.2.tar.gz
b7270a203701a5399c849c48867dc327  xsa125-4.4.patch
1ee5f45ecda3513e8a9708b2edf5141d  xsa126-qemuu.patch
941b4cb7f2a8ba31bf08ab5425891902  xsa126-qemut.patch
c7d2d6913945100b5048e5149d0f6af2  xsa127-4.x.patch
896d814b803427d72781cd9a1e11ebd2  xsa132.patch
c1b7aaa9c5e729b61712d27d1f9fae6a  xsa133-qemut.patch
fdb8ba32313a5b8088773ffcfd865ae7  xsa133-qemuu.patch
c6c0595e7824988fa21daf73d4a9f029  xsa134.patch
8035908817374d2d32aaadf942e3391d  xsa135-qemut-1.patch
462f5d784493119bdfa6e7b5a628a88d  xsa135-qemut-2.patch
c14ee8915f4b2207e0e59c4df8da957c  xsa135-qemuu-4.5-1.patch
8326f1f53d86312cfad80cd33de1962f  xsa135-qemuu-4.5-2.patch
ff35b1f11bcddbd651445406bbc88a76  xsa136.patch
784876f7bc9034a2a6184edbfa2bdec0  xsa156-4.4.patch
9dad98f18893ab696e7a26e5d2a707b2  xsa159.patch
8d5940f58564ecc37fbf8f3176884b8a  xsa160-4.4.patch
73959d870f397ff4fa5091ebb62d7697  xsa165-4.5.patch
1832af4e78d994617c18bd7df58e6409  xsa167-4.4.patch
b837726ce186fa61cfe7238b225b0335  xsa168.patch
2c2adc771c0ac13671bdcdd314602fcd  xsa170-4.5.patch
b14d9a4247ae654579cb757c9b0e949a  xsa172.patch
6de4080f47887c2e28911d4dd2f05fee  xsa173-4.4.patch
d598b31823a2b4398fb2f9c39aec0cff  0001-libxl-Record-backend-frontend-paths-in-libxl-DOMID.patch
761926907618592763ba75fce4c02c57  0002-libxl-Provide-libxl__backendpath_parse_domid.patch
b5e297a4a111f897b403d70c25158adb  0003-libxl-Do-not-trust-frontend-in-libxl__devices_destro.patch
bb3fe7f6fd1850082b4cda123eeb0ea5  0004-libxl-Do-not-trust-frontend-in-libxl__device_nextid.patch
20684f601c6101dd37c7159b84045906  0005-libxl-Do-not-trust-frontend-for-disk-eject-event.patch
362e319af13933d21cb98ca121ee46f2  0006-libxl-Do-not-trust-frontend-for-disk-in-getinfo.patch
3fc129871b1ad0e563c226f5291764f6  0007-libxl-Do-not-trust-frontend-for-vtpm-list.patch
0ee118dcd7bd840916a0399d200d494a  0008-libxl-Do-not-trust-frontend-for-vtpm-in-getinfo.patch
c7d84a8620cd25244c5a04f7e9a5f77c  0009-libxl-Do-not-trust-frontend-for-nic-in-libxl_devid_t.patch
7c09155ea89d59061d5d02ce68a01d7f  0010-libxl-Do-not-trust-frontend-for-nic-in-getinfo.patch
f5a889df9c86a2cda28da20ec7cd7adc  xsa176.patch
37ccd7198ec535411082a5ecc15e57e0  0001-libxl-Make-copy-of-every-xs-backend-in-libxl-in-_gen.patch
332c4d1f44dad70d503129a4702644ce  0002-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-excep.patch
8f15863d4c985db7d52bf89a82fa23f5  0003-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-uuid.patch
c67c79cfa9fea4dcf14c3c416b5091fb  0004-libxl-cdrom-eject-and-insert-write-to-libxl.patch
549194f7a3e49566db3a88b22506f349  0005-libxl-Do-not-trust-backend-for-disk-eject-vdev.patch
4e9fe51b7b29ebc1c56c4f911000346e  0006-libxl-Do-not-trust-backend-for-disk-fix-driver-domai.patch
20d2268655c6b0aa228662db703d7bb0  0007-libxl-Do-not-trust-backend-for-disk-in-getinfo.patch
5256963a208aa716515809528eabc590  0008-libxl-Do-not-trust-backend-for-cdrom-insert.patch
36923de0db519f7be34aa78a091a6920  0009-libxl-Rename-libxl__device_nic_from_xs_be-to-_from_x.patch
f16a3f4e3c6ce1b2b05bb9bbb0a14b7d  0010-libxl-Rename-READ_BACKEND-to-READ_LIBXLDEV.patch
53da13a7b33cc50fb14fae51e489b43a  0011-libxl-Have-READ_LIBXLDEV-use-libxl_path-rather-than-.patch
2a86010bfa9c6cfe28fd641c6564f708  0012-libxl-Do-not-trust-backend-in-nic-getinfo.patch
236a7e3367471ed7683ab87958995e60  0013-libxl-Do-not-trust-backend-for-nic-in-devid_to_devic.patch
97c511963dc1042946dd5be926c9012f  0014-libxl-Do-not-trust-backend-for-nic-in-list.patch
de1a3db370b87cfb0bddb51796b50315  qemu-coroutine-gthread.patch
dd8603eaab5857816843bfc37647d569  qemu-xen-musl-openpty.patch
c4d2d95ae3e5f538b7145becb3c6098e  qemu-xen_paths.patch
e449bb3359b490804ffc7b0ae08d62a0  hotplug-vif-vtrill.patch
229539a822e14a6a62babffd71ecfbf3  0001-ipxe-dont-clobber-ebp.patch
08a30d56902b660f5102a5c208e545c9  init-xenstore-domain.patch
f7aa282a27f270a923f229f2040cd7b5  musl-support.patch
2b1afbf120b69c5d14c846178378116b  musl-hvmloader-fix-stdint.patch
c9313a790faa727205627a1657b9bf06  stdint_local.h
c13f954d041a6fa78d0d241ad1780c0b  elf_local.h
750138c31ec96d1a11fe0c665ac07e9e  xen-hotplug-lockfd.patch
649f77b90978cd2b6d506ac44ec6c393  xen-fd-is-file.c
821ebcac530998cc3c93925aaf9451c4  xenstored.initd
d86504e12f05deca6b3eeeb90157160e  xenstored.confd
ed262f15fb880badb53575539468646c  xenconsoled.initd
ec2252c72050d7d5870a3a629b873ba6  xenconsoled.confd
c3d2d36067694dac29cf126ccbc9c45f  xendomains.initd
dcdd1de2c29e469e834a02ede4f47806  xendomains.confd
9df68ac65dc3f372f5d61183abdc83ff  xen-consoles.logrotate
6a2f777c16678d84039acf670d86fff6  xenqemu.confd
f9afbf39e2b5a7d9dde60ebbd249ea7d  xenqemu.initd"
sha256sums="cd53592e86669e5e8c4d4a731b0199e8af17d8eadbb8f26dbb69f1b751259204  xen-4.4.2.tar.gz
2180e657b34d8628d4e0157adf2a36904bb6feaf55d53338e4457ef77d867a31  xsa125-4.4.patch
bbb8c840f3ef182508cff36803d861f15923325075ccc58801673b23dfc1a169  xsa126-qemuu.patch
791c288379fcd8b30ee473d42f1113c8ffa5f244dd82df9db6cc4597c81155b7  xsa126-qemut.patch
e5fd3c126ae10fe45283e6eb1a4216b75057f1772d869d2b3a26398b0984c7bd  xsa127-4.x.patch
329d4edf1e1133795ece41f2fc8887c5f4cc06b42ced63c810c610b17bcee46d  xsa132.patch
8d8c82fedf4beb6ad1a27002c1d3fb3031e43a732316e2049ec5d04939c159bc  xsa133-qemut.patch
032481a153d80192112e42f704dc7180aeb995a12d3ddef0efec4eb87c044079  xsa133-qemuu.patch
fff911a994a5031831cabd574bcba281eff438559706414a1886502eaa05ee12  xsa134.patch
b4b66d772e52ec35f7256b168ac68f5cf0901590112b3b4db860d1b9c2f513f6  xsa135-qemut-1.patch
0d98a8c4498390a93665872dea9b4b00781578e95e6c78a49632bacb5f70edb8  xsa135-qemut-2.patch
45332351182c3c2c64e1480aa1f77a2d88814e0fb3fbe03fef77f32c37cf8a5e  xsa135-qemuu-4.5-1.patch
04bf6d34183278984d3098522d985d5d22a45c38381772e9670e962d00b133d0  xsa135-qemuu-4.5-2.patch
b54a71cf41d333345a9b8fd5f3f1aa644000a24e20343b54e5a41cd51d14af04  xsa136.patch
c2001aed46840b044a066b9ca79a8c53aca26fc637125016ccfebafa5ace5475  xsa156-4.4.patch
05c35871c1430e9cfdbee049411b23fca6c64c5bc9f112d7508afe5cbd289cef  xsa159.patch
d0ce9e3c2b951ac3d25da4a0f6f232b13980625a249ed9c4cd6e9484721943a5  xsa160-4.4.patch
dd15e301f2757e0c7975bdccfe49ddf41c730bc124dd90166e0844d332eeedad  xsa165-4.5.patch
194c1ce89292f4cbb9980baa703095bcbeb5849abf46d193e07a98a0d8301f78  xsa167-4.4.patch
c95198a66485d6e538d113ce2b84630d77c15f597113c38fadd6bf1e24e4c8ec  xsa168.patch
1df068fb439c7edc1e86dfa9ea3b9ae99b58cdc3ac874b96cdf63b26ef9a6b98  xsa170-4.5.patch
f18282fcb794b8772bc3af51d56860050071bd62a5a909b8f2fc2018e2958154  xsa172.patch
35e02b8d4c2841ad951dd967b4f11aa7911fe5d52be2cb605b174e8c2e9214ca  xsa173-4.4.patch
cefe2c82a30227b6538c6924d7d939192be3c481e48ac94c82f4c51f60388570  0001-libxl-Record-backend-frontend-paths-in-libxl-DOMID.patch
f24b26891fac4e8bf8a0939a5b64fc7ad096ef699f1882aad6e96cf81b85fc3e  0002-libxl-Provide-libxl__backendpath_parse_domid.patch
748ea9d369b1f8372d1a4c420e6a9d90f881b7142e7913ed5d72b99c07ac11a0  0003-libxl-Do-not-trust-frontend-in-libxl__devices_destro.patch
9f4011a48b01a36087e019f2c4bcdea91c8f2dabce5bd6b9a4cb7fd70f343c50  0004-libxl-Do-not-trust-frontend-in-libxl__device_nextid.patch
012c86146bbb67c2bb9424ba76294e6c6eca033d932d543e0e58f83e91d79e7b  0005-libxl-Do-not-trust-frontend-for-disk-eject-event.patch
be5665c91b0dfd79c8c4bb35d5adfb719ab23a547479a14aacac9d5f46d77a0f  0006-libxl-Do-not-trust-frontend-for-disk-in-getinfo.patch
9068b9025ad079d1ec1cacc399a72b5dc1836894683b2545274e8b19b795cd60  0007-libxl-Do-not-trust-frontend-for-vtpm-list.patch
b57f96af3c1cac5f56a684afe223b4a977c144daf8d5f2a1e184697cd29fdbe2  0008-libxl-Do-not-trust-frontend-for-vtpm-in-getinfo.patch
c8941fcf41edae75fa5a1b417d9b457fdd67a5531b6cf75dc16da9d63697c61f  0009-libxl-Do-not-trust-frontend-for-nic-in-libxl_devid_t.patch
0641b38b7718d5fa84a8ce12a2bf034273caeb1e372f48b73170b3fd085f169c  0010-libxl-Do-not-trust-frontend-for-nic-in-getinfo.patch
e61c52477a8d8aa79111d686b103202ff8a558d8b3356635288c1290789b7eb3  xsa176.patch
5d8e426eb650b35702a63df9b729836c4c7a8bfd7888da600d41e09e5d547457  0001-libxl-Make-copy-of-every-xs-backend-in-libxl-in-_gen.patch
693fe1757711ecb2631e6b922ef4514c172813a99f92a08b1d31843829b85366  0002-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-excep.patch
4baa48fbd2a93fcfae70a1162c2ebbf14324783392a49e905ad0e0d1f1dbc5c8  0003-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-uuid.patch
9def593f790ef9bc3742d734136908c09da2276946143b64c3620e46c65f7619  0004-libxl-cdrom-eject-and-insert-write-to-libxl.patch
fa3593d55d87a64fa57449c834923babba596039313bee4ee93f755bd1bca955  0005-libxl-Do-not-trust-backend-for-disk-eject-vdev.patch
bc1a4a4eb9c0a5833c5a30fef613f18fd469196cbf8d95f8bce04aaf0c71a019  0006-libxl-Do-not-trust-backend-for-disk-fix-driver-domai.patch
80031d18b11739bb7fb08abc6b09d900d7aa827827bd2cb1de80281cb4448557  0007-libxl-Do-not-trust-backend-for-disk-in-getinfo.patch
fa6ee1a09ef5b458e7acdad85ebdaa651fcd48213f0168aff7700f10bf93fb4b  0008-libxl-Do-not-trust-backend-for-cdrom-insert.patch
ff7851e5cb61ae7d960162204706202f38843923cd1b1b962ea9acd32fdb7f5c  0009-libxl-Rename-libxl__device_nic_from_xs_be-to-_from_x.patch
a95c660c567d16330e811d052d0bf0a7b7cbbecdefea5a39623407616497d74b  0010-libxl-Rename-READ_BACKEND-to-READ_LIBXLDEV.patch
130fb3484bcaf7687a2f10b32a586622b6fbb57c38d44f6c4aa7f4512dea367b  0011-libxl-Have-READ_LIBXLDEV-use-libxl_path-rather-than-.patch
d97bb2d529a83392bf1a9ec41a4afa32f2ae528c5a9e88145205e7c4db3d0be2  0012-libxl-Do-not-trust-backend-in-nic-getinfo.patch
6716a2201b864e0414ab58bd4c323a03bdb7b794f5810dce83191f69b551cafd  0013-libxl-Do-not-trust-backend-for-nic-in-devid_to_devic.patch
acb48affe1e3f9a525fdf8d856025805065df7dc202a41c30601567d45a4ba8a  0014-libxl-Do-not-trust-backend-for-nic-in-list.patch
3941f99b49c7e8dafc9fae8aad2136a14c6d84533cd542cc5f1040a41ef7c6fe  qemu-coroutine-gthread.patch
fe76c7c8faf686060b20491bfed4a13ce37b1bc3dcdbf33d242e388cee14c7c1  qemu-xen-musl-openpty.patch
a6ccc0ed0dab8465188f92ceb3c983f10d65cd93bb2c8bab4e4155ef13536f5d  qemu-xen_paths.patch
dd1e784bc455eb62cb85b3fa24bfc34f575ceaab9597ef6a2f1ee7ff7b3cae0a  hotplug-vif-vtrill.patch
751ef06569de66578b8713dc170976832b0671ac2696f32eb9ad69d60332d594  0001-ipxe-dont-clobber-ebp.patch
0204d69804e83864cd6b2122f51b9c1940588158a35c159a7ef0c3b8fb0af4cb  init-xenstore-domain.patch
2513ab530c80b32bd7fe4d35a5b1ecbda14c8e093e556e040a68226796e63791  musl-support.patch
09b9feb9ea6f9c1bda5cc1672f42e8fc5186dc9dd5561f28c6f1904d80aca7fa  musl-hvmloader-fix-stdint.patch
6b4ad2a9fdb3e23b06c8c1961a46b06c15a46471fe6fb13cdc269da37466f334  stdint_local.h
7f1ed2db24d8eba87a08eea0601a9ab339209906fdfa74c8c03564a1a6e6471e  elf_local.h
b183ed028a8c42a64e6fd3fb4b2b6dad832f52ed838fceb69bf681de4e7d794f  xen-hotplug-lockfd.patch
d0b3e5f282a07878341c38f40d01041ed37623757a99d6e0a420ca64d1f4ef2a  xen-fd-is-file.c
87d391c666a1facafaf33bdd69523ec877a687262e267ff032cbca7f714ccd15  xenstored.initd
991bb7c9da02941556e29714bd96b26e39e57e0a5b514eadd78d9bfa3fa5a9dc  xenstored.confd
93bea2eb90ea1b4628854c8141dd351bbd1fbc5959b12795447ea933ad025f01  xenconsoled.initd
2a74be03eb74f6013242a4a5d721df6cb9b959b43c405de1e32813f52d749060  xenconsoled.confd
b5125159b4a4487e910b2f75519061204eccf7f8377e3cd395b18f0358451db9  xendomains.initd
046540c36328809fc351ad209d2b40300f91581d6d46da0caf79f57f2c212285  xendomains.confd
0da87a4b9094f934e3de937e8ef8d3afc752e76793aa3d730182d0241e118b19  xen-consoles.logrotate
4cfcddcade5d055422ab4543e8caa6e5c5eee7625c41880a9000b7a87c7c424e  xenqemu.confd
bf17808a79c57a9efc38b9f14cc87f556b2bb7ecfdec5763d9cf686255a47fce  xenqemu.initd"
sha512sums="7dae2a1d601d5c65c350ea9fe9870551ec53dff47b6ebe56e99285fd1112aa1cba3a2594e294b871defcf43fb7fccace9f18910e69f02dfce162d7bf453eb07b  xen-4.4.2.tar.gz
3f1dbbd9ff6c7fa637ae995b2a5dcf13e37ca89e0c25deec55893f7349b1665d4f328e526eddea36ab7c820371031083d1827011308bb522b75920d217470b28  xsa125-4.4.patch
5ade1fb69e48d12b60fc867b00a59dcd94d3db264c9f3cf6937551ef142fd37285ba59b81b95883f16b21d287fda5eef5f114df155fef059ba97535168fd358a  xsa126-qemuu.patch
b65565d1e8fd0a41a683c22664cc024b9193f733f7029a4421730a63c23190ff4d6d3afb7bfddcccd290c8986b866d989e6ddfa9c5d99f6aa73e0516c2d2d511  xsa126-qemut.patch
598761b014cf17fa9ee1ac56ad7cf5c27cda208e180b471d2946a14079886c60448c6f2e7e0633bd1d85b5737af2a4e76b7377e58726f617e982c5c5395f03d9  xsa127-4.x.patch
23d4fb293c678b8b0a6c48cbd696761bd35179e56c7d9b1d8090006241e33dc5cc4d77a2598f27dd3943a9d13a38c6b21714d2a639e6f9c0d86a0a5c747becee  xsa132.patch
a06bf522ab6076fbb5869e9a5f1aba37d41fba21d8a327b85ea315ca8814cb959fef2d3458c7f6d2b758eb5a4b7b54ed81b14bb80512205eb2a90d46ca432f95  xsa133-qemut.patch
fc97003d6817fa44dac7e72db1b5bdb0905a138d65caf12f8b1e3cd5855b3b8d441caf95f7c902f36b4c21c862148ab31e45b6ef1ffd22c25875a04cb29c9911  xsa133-qemuu.patch
2a11aa675ce808a0b43811470ff3b24fb1a98b603982216ed756738904b3d5c7ec2b206cdbc6b4f08f062a6abc5f2496cf06a41a72ef8da683234c77d1fc6fce  xsa134.patch
68824ec4d8a201c9687bd2de82489730908a70914243067f9e76a2584ce73212fd55ec00d6cf1301f7d1c73e32c9e46a93d3da4a6a61781ddec4f863190fb02b  xsa135-qemut-1.patch
c29683569affcef4d45ec510b0b8b6d7c4466fc3026005b0612876ce1b7dc52ead77880a3204b5df78d836bdf197b872780c67afd49a895f9f7a47aabf3d9064  xsa135-qemut-2.patch
66c7c906b5d23ec9f093986f15243499d66fb38b4c68d77e6f3989a21b05ee22f8ddf6ca3c76a8b0022aa52e5ffcdb9c2374cc62a6808fbbbafc3ddf928f216d  xsa135-qemuu-4.5-1.patch
6d9e93f65a5a8732c4c6a20e22c9d3252e8c6b5948db652903a2f323bc653c9ae6dc85d21c66bc93e5a4d7d09344e20e401e850a748fbc5e99c5e50671f11a00  xsa135-qemuu-4.5-2.patch
aa204c59ee5d7b61d4515648208b6217dd0bd5b4dc8934085b0c3cedc72780a21b012445c38024e33ab604e870db49b2fffd7d9f91e909b775bcd503eec30bd9  xsa136.patch
3e4a7edad774cf80c07f19823710efbaabc4c81d75e34378efed6dab4e7696eb876a0e3a955296d48443c3cc55daaddd3fea623369f1d2e76a777ef8e6f41b64  xsa156-4.4.patch
82a8cd774078b201e3ca854b2419d5c2e69d8168066dcf0cf2c7373b649a9c0325b568cb7434b0f50e10dcc965a0557e845309dd1ddb9925950f386b12249d5d  xsa159.patch
f12e15fe6e67cc61ba462993f69e5c247ae58652fe84ecd5a2f48379a9734cafcb22c83c3398aeca8fa5e72f9e8e7a56ef51bc8ab780dda7177946a119c34863  xsa160-4.4.patch
1585c23d3ee8e3d40bd4fd4c74fcbe8223a6285cbe8b3d6479d77eaf9851b11e9634bf275e80f6aaf1cceeb466142e18e4f61491ada509f4c5a0aebda4b6e795  xsa165-4.5.patch
61c41491a6086a96bcdf830c7330d71561b6229cd71672075d00ef011e84e3e00b15a1ff650a8ec36a3936e970593c2ce0f986810cecca1d2f1973e1378c4e22  xsa167-4.4.patch
c55ee924b21edf54ce3c873d952a20f32f851661a13514528d42d2ef36767cfa9e31b1a42a4e0f40ff1011c692c406155fcc59be0c43fd44973cd0a5acee2ac7  xsa168.patch
1b6f700bd9239ec7fad8e9c6d3f3c83b051dd5bc374c92d131211688985f8d8389bc2c24aa784fe1647524af4bdebd50943187218e7cf842154b16b8d4fcd9db  xsa170-4.5.patch
8636f74b270b0ccf56ea6bab4c90d0ee909e5d2891987b4572df4a0906e2230e046aad0c99add6c1d70f7023cc6d99bcfd2947c953f600074a6ed7c176a5d3dc  xsa172.patch
0f916156724995abe68bdd66a704c2e80d5b9c7883fd406cbd67e47e626e5c309418d4117588388bdd626b0876c0f7664733815c492c29e0c9d3a46460a01124  xsa173-4.4.patch
a78d27cbd0090521854a10d83180d58b4050c1ab8d8a7eef4639240ea24df5a03d8638795589479010a5de1a4df3ce64f705afc8971786ad981a87a545778014  0001-libxl-Record-backend-frontend-paths-in-libxl-DOMID.patch
c7142a142413542e291df407621c16b7d3c0a4b8cfb4c3287f2be012ea72485cb2b8d70cffc3cf4393f664f7154e9cbe4a436ead044ef820f7ab8eee7f445625  0002-libxl-Provide-libxl__backendpath_parse_domid.patch
fd9d3d113ecb74f8589a792e5461e61d2664939e601744671a064194e2c603533e01b3abd8ae42ce203916f9055b5438d481dd47236b84b20d8129b4159ee4ae  0003-libxl-Do-not-trust-frontend-in-libxl__devices_destro.patch
c0801bedc048d752bb92c73d1b8f07a8efc15d14d527cf006f48efe1b00c02c1c9aca7194740aa82896255cb2eaf16dbf327c7c3b9a55c43bacbf2383579913e  0004-libxl-Do-not-trust-frontend-in-libxl__device_nextid.patch
15ebf8c4f6d18635464628dd174d7178ce3254efffc65c86d057d71d62d456ea502a70264e7a5ca191a46a058b3b0d8a5fda49b033e3a8372c593e569d16560f  0005-libxl-Do-not-trust-frontend-for-disk-eject-event.patch
c45c06a8ddcd180044ccd49cbd108da16181b5fe64400bdd62bd54c5533b2c0102be7f180ae9f0aab4f29e83c749716371c48daaf557321cef70d2427dc302b9  0006-libxl-Do-not-trust-frontend-for-disk-in-getinfo.patch
2a7315f33edb990317a8eeb96eff8b7047afc9b7207915fe59566b7f63d3f57b613accd2d58c4df03263b2fcb91513edb36eb978c7886b8f32ccb3033ca8c041  0007-libxl-Do-not-trust-frontend-for-vtpm-list.patch
12447525b319ae8912bbade257ab38730b70b43fa2c3056f567c9a9b5f95647c7d61eb43d82f2c526700224a080baae6f991bbc683d19fba416ffaa1c667a013  0008-libxl-Do-not-trust-frontend-for-vtpm-in-getinfo.patch
20212bf1b0912548dd35f38166550195fad0debe46ade82979c68e0da8f30eedb87ec90ab547c4eebbcc0c56675c27037c0716da9339180412fbe5012e76ceda  0009-libxl-Do-not-trust-frontend-for-nic-in-libxl_devid_t.patch
f88337c4c89d8bd8465fb227d944f1046e9ebb00739fe731004104d073ed0713e1dc42a6c21adf420f94a268515b8f3487bb22ac39fad02691b284eadcd2d7cb  0010-libxl-Do-not-trust-frontend-for-nic-in-getinfo.patch
0f86e4e4ee94c22166174d018954f60d9700ea4d880f4ca41b6ae1b242a4e1649da305851ef4d9b3aa91d512411a3a423f1aadceb20714d160d4d97d145dc312  xsa176.patch
25ad6f183890ea6a96b99d6bb6d1c70acf1f5eddba0acf2467c4a7bb349b6bb10dcf7c8b45d45867a1ec2ba96df3a1c614cfba4c6a246f7febce8f637a62d51e  0001-libxl-Make-copy-of-every-xs-backend-in-libxl-in-_gen.patch
3b503a4a58e52366c27c999f0476471ce56d12069c97c07209f99f72d894b35c7ee40692c8d4bad376d0d458c51745ee974a653da759fc676d0f70b815097cdc  0002-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-excep.patch
09220bd7d5283df84d6c7451aaddd568eecea6afeb58f76cb105140732ebc6a70696e5cbd6b68ad12aaa8dc28bcb264d5f20832df43f34f927cc8b2e7dbfc7ae  0003-libxl-Do-not-trust-backend-for-vtpm-in-getinfo-uuid.patch
383f1fa14aa780ed97761a2c77cc5e82dc1db3d31390e7c775ace727f10b439d1007c8358047e5629acd96714f8e2d81ef1f9f5f6dc42d3afa32028fd8790a09  0004-libxl-cdrom-eject-and-insert-write-to-libxl.patch
dc118e03e8cd92382ee7d8e2c7904a4e68072993728b5c1120b17634ec8894c1653216f87814bb29c6b90f7a4358f079dfaf17e8c6d3ebad61fc6a3a5ea6279f  0005-libxl-Do-not-trust-backend-for-disk-eject-vdev.patch
4ce5c1e6ce9ad8f6491acb63e8d8e018d31835ef30e3db7d951fcdeed23068487622d7e8b784f7a5661ce652799b5c61a8106e5403dd2ff27ec4efcde3e540ce  0006-libxl-Do-not-trust-backend-for-disk-fix-driver-domai.patch
fc94c866da8bbed06edbf933c466dd69bbfc8cc3f698a494be9a15210b58e6fef7332c542f9509559b35266b43b11342acb0e73612184888d68dc3f7d28ae606  0007-libxl-Do-not-trust-backend-for-disk-in-getinfo.patch
5424cf620d85209475e16369ae15d2a2415d8aa091370a0ca953717db2715684590c14211d95563b20120a0e329346d256585528f51018d3191482c066c02768  0008-libxl-Do-not-trust-backend-for-cdrom-insert.patch
51294e6ae4dca870a4711bc64ef7911a800f7b2480873b3e10e064720d5a654064d1d5796245d5dafb226d4ef096ef454b008c395f220a5bbf068cdca1c50958  0009-libxl-Rename-libxl__device_nic_from_xs_be-to-_from_x.patch
6bde657eb262e881a2b0f94735fb580afa75e1f0016c70ee03c78b63cf844ba81f0a1064152e5397c66bf267c5009b317612d171b2f4bb620c8bf24e24042860  0010-libxl-Rename-READ_BACKEND-to-READ_LIBXLDEV.patch
a75f6b406d30523046b272471c7a4988a5712ae1abd476651bb94d4fbe8bb58c5d11afb4ce7cf25e5ae4e45b042fb187a856de1fd74c81b1ef740f300027b76d  0011-libxl-Have-READ_LIBXLDEV-use-libxl_path-rather-than-.patch
4672bb8adcd9cdad8da13fee6256a865bee64fd3546363cc11cde097cba2cd1e82566dff8d5f7d1912f83b41b749099350484d29e70d3addd839aee47df731d4  0012-libxl-Do-not-trust-backend-in-nic-getinfo.patch
6f4488d6a34d145f2408882ca47d4511ddf5218118b640e6d64f6fb719c9cd914d0798e8c19c574f6b4ad62b238ccf151aad9566a4fbdb51b1bd5fa6bfcc0f05  0013-libxl-Do-not-trust-backend-for-nic-in-devid_to_devic.patch
3e5a917124b2c7de9166f9bd82fc35c8a9b7ac279150fee7ad503ede751370589a3cd19e79580f8c88bbe2f55cbd5493070b6ecc4bd611a96b13aa7c2b8aa48d  0014-libxl-Do-not-trust-backend-for-nic-in-list.patch
c3c46f232f0bd9f767b232af7e8ce910a6166b126bd5427bb8dc325aeb2c634b956de3fc225cab5af72649070c8205cc8e1cab7689fc266c204f525086f1a562  qemu-coroutine-gthread.patch
a8b7378516172389450834985e8558d7a86d7cd808154bdc846bb98325e40fc4e87b1fc6d725297f4bef6eb54ebcbcbfa4d9d0363d83f635755795fb0726e006  qemu-xen-musl-openpty.patch
1f19cf495142dfc9f1786af6d4f7d497a482119fa2f1c10d4f9174994d38562719bc5190820dd444c32da0fb9af78fadac8dc8958437c26d6ca385f2409794e8  qemu-xen_paths.patch
f095ea373f36381491ad36f0662fb4f53665031973721256b23166e596318581da7cbb0146d0beb2446729adfdb321e01468e377793f6563a67d68b8b0f7ffe3  hotplug-vif-vtrill.patch
c3a1b270347a99c8ce21118010ad8d817b4462a31cc5c75352faa7086969ef0646f3f4d0922d85c2e504cff091ce7e9fe79c92f983c2ba4af2fae85c52c3835a  0001-ipxe-dont-clobber-ebp.patch
475eb800660dc928914b8c15562f18f24d6e7a76f4cc7bed9249ce52d444c29aec1aef843eb37ade0c7c9616195bbbc1606a3195e25b2bd4b6a1d1af5f69256e  init-xenstore-domain.patch
3d6b180d631c6d7baeff9976503cf6b16f24b0e99c25b2b2a5153db85f41600159d10d4f47eda0e33e1f41197dc9d6d935cf33f31ffbcf429d35002e0affdb2d  musl-support.patch
4acf7e360ae94f7c0f7541fcd106389402f215c28bd18ed1fd4be9d4b9d12550e17152f7e19b19793e16d4ee0e131ec3e3ce6011b42bc7683fcebdb4051c6109  musl-hvmloader-fix-stdint.patch
9dcb481c5b83c7df23e87be717d8a9234014f26a0f80893e125fe8110e2923562d95162d18ff64c08b5782cd7c085f90378a9e0802b3995c077c8ba32bbb669f  stdint_local.h
853467a2d055c5bfbdc7bdca175a334241be44a7c5ac3c0a84a4bc5463b5c070b66d37e2a557429ef860727a6b7350683af758cc2494d85b6be4d883143a2c0d  elf_local.h
79cb1b6b81b17cb87a064dfe3548949dfb80f64f203cac11ef327102b7a25794549ce2d9c019ebf05f752214da8e05065e9219d069e679c0ae5bee3d090c685e  xen-hotplug-lockfd.patch
e76816c6ad0e91dc5f81947f266da3429b20e6d976c3e8c41202c6179532eec878a3f0913921ef3ac853c5dbad8082da3c9cd53b65081910516feb492577b7fc  xen-fd-is-file.c
84b62a02709e1fd760d766c2d72f69a5d18dfc54bcbc9db140e30131b5f5fe1b163911bd910012184229586f0ff9a48b6190cc3f7a604d2393df0220d016984e  xenstored.initd
093f7fbd43faf0a16a226486a0776bade5dc1681d281c5946a3191c32d74f9699c6bf5d0ab8de9d1195a2461165d1660788e92a3156c9b3c7054d7b2d52d7ff0  xenstored.confd
12f981b2459c65d66e67ec0b32d0d19b95a029bc54c2a79138cfe488d3524a22e51860f755abfe25ddcdaf1b27f2ded59b6e350b9d5f8791193d00e2d3673137  xenconsoled.initd
30df69cc38d0bed26bc4d6e08a2b62cbdc654d5f663009a05cb3b83b3e3dc5e206362d3fd59abbb753ceb8d6d79eaa6e15d079bb8f4f35dc74667103faf4e85d  xenconsoled.confd
bf1e90a181b5200c89233814452a3829b25f1c4a5dc1d90bfc7f2f0c1beeaaf3b5f05a2a238f1b11bc8c5aec1c250ea922cdd6887f89ce2eeabe132c8a10d406  xendomains.initd
a3dddcb841a22305cfe1780c4ef6cf1ee67227ca9fe6ca0d24a7cc8be2cff9e5f3fbd75c2faf85e5ce6dc3b73631879ce10e19b02afb4611c72db183e116123a  xendomains.confd
ab2105c75cfe01768aecd5bcbb56269d63666e8a44e42b6a83aee87df6c84ee2f9ab249171c21b2e09f8fec2cae8318f6e87d160989398a3e7dd68db8d52c426  xen-consoles.logrotate
bdbe15c924071cdc2d0f23e53ba8e3f837d4b5369bfb218abd3405f9bef25d105269aaf0784baeb69c073a5786b8c82ffdfd414e86874da34293cfdc2c497928  xenqemu.confd
2341a01a000e4badd9dbfd122e7eb3e594982921a80186c0e4174744daf31114c384b42458864d9904ed1b463746efb774efa707ad48280a25ce897ef5ac9e83  xenqemu.initd"
