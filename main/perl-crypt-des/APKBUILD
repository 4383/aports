# Maintainer: Jeff Bilyk <jbilyk@gmail.com>
pkgname=perl-crypt-des
_pkgreal=Crypt-DES
pkgver=2.05
pkgrel=2
pkgdesc="unknown"
url="http://search.cpan.org/dist/Crypt-DES/"
arch="all"
license="GPL PerlArtistic"
cpandepends=""
cpanmakedepends=""
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/D/DP/DPARIS/$_pkgreal-$pkgver.tar.gz
	svupgrade.patch"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="a8a0bea7064e11d2af434f3e468c17bb  Crypt-DES-2.05.tar.gz
9b421edb0638fa417fd5b77c5e53ff7b  svupgrade.patch"
sha256sums="b7be9e4113eea37554a33c4d738a9226662c3ee53a5f0f281e1b1974569822f0  Crypt-DES-2.05.tar.gz
7c011781f70bfdf1d03f7b26db174ef711480f8671144a9f1fa8d154c8d6864d  svupgrade.patch"
sha512sums="006b7299351389ab3ca71f082cb4f12e33aad45e1c06e5394ffef618ddc0d28d14431abd90c23be6e2a86cd2ca34ae70fb6b72dd613d17421b5427e13e405532  Crypt-DES-2.05.tar.gz
1fca98a8cd79d5db2f6ce91824ec852d9cf44b642b84562388f6e419f00327679a9af8656eaf813382477eb5e3b3dca646fb49dfe02f6ba79c6e17acd2cce710  svupgrade.patch"
