# Maintainer: Bart≈Çomiej Piotrowski <bpiotrowski@alpinelinux.org>
# Contributor: William Pitcock <nenolod@dereferenced.org>

pkgname=nodejs
pkgver=0.10.13
pkgrel=0
pkgdesc='Evented I/O for V8 javascript'
url='http://nodejs.org/'
arch='all'
license='MIT'
makedepends="$depends_dev python openssl-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://nodejs.org/dist/v$pkgver/node-v$pkgver.tar.gz"

build() {
  cd "$srcdir"/node-v$pkgver
  ./configure --prefix=/usr \
    --shared-openssl || return 1
  make || return 1
}

package() {
  cd "$srcdir"/node-v$pkgver
  make DESTDIR="$pkgdir" install || return 1
}

md5sums="4c8185732680fc70c90a4c39789e4ff0  node-v0.10.13.tar.gz"
sha256sums="a102fad260d216b95611ddd57aeb6531c92ad1038508390654423feb1b51c059  node-v0.10.13.tar.gz"
sha512sums="d632bdb56999b6281f1d77f8e769605e9c90a7de9ef2d285879bac3ac0f66675a789a76a48282c8e0801bab3a4412630b1b2f01c3b8584176095c47aeb8e9a76  node-v0.10.13.tar.gz"
