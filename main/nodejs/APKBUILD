# Maintainer: Bart≈Çomiej Piotrowski <bpiotrowski@alpinelinux.org>
# Contributor: William Pitcock <nenolod@dereferenced.org>

pkgname=nodejs
pkgver=0.10.19
pkgrel=0
pkgdesc='Evented I/O for V8 javascript'
url='http://nodejs.org/'
arch='all'
license='MIT'
makedepends="$depends_dev python openssl-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://nodejs.org/dist/v$pkgver/node-v$pkgver.tar.gz"

build() {
  cd "$srcdir"/node-v$pkgver
  ./configure --prefix=/usr \
    --shared-openssl || return 1
  make || return 1
}

package() {
  cd "$srcdir"/node-v$pkgver
  make DESTDIR="$pkgdir" install || return 1
}

md5sums="ea0be82fa626a991d140444644a08001  node-v0.10.19.tar.gz"
sha256sums="e50787672cdf6afa6caeef9345ca40c4a69f96a31829a0884ea6ed63dfdde21e  node-v0.10.19.tar.gz"
sha512sums="2944f620eb9b94c0138fa03d377baa2103da89c2f8c6daaa3796852928ef17ab8abbc4dc795f32e794ca1b972a36d1fe151c0ef1ef0fed69a08e8afb5917d2be  node-v0.10.19.tar.gz"
