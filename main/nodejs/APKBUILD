# Maintainer: Bart≈Çomiej Piotrowski <bpiotrowski@alpinelinux.org>
# Contributor: William Pitcock <nenolod@dereferenced.org>

pkgname=nodejs
pkgver=0.10.18
pkgrel=0
pkgdesc='Evented I/O for V8 javascript'
url='http://nodejs.org/'
arch='all'
license='MIT'
makedepends="$depends_dev python openssl-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://nodejs.org/dist/v$pkgver/node-v$pkgver.tar.gz"

build() {
  cd "$srcdir"/node-v$pkgver
  ./configure --prefix=/usr \
    --shared-openssl || return 1
  make || return 1
}

package() {
  cd "$srcdir"/node-v$pkgver
  make DESTDIR="$pkgdir" install || return 1
}

md5sums="8b905b6013b82fb7076b02a6c881f9a6  node-v0.10.18.tar.gz"
sha256sums="3ee4436473869d4d84bb5cad4352b09ace00656467eca7d6db7cd7da5b8c5495  node-v0.10.18.tar.gz"
sha512sums="4ef1ff1f9986d68c739845feada46d5790ddae396afbfa60414180def79bb6b72d98cbf5eaf4e1b0857e071bce5214ae6bd3e323693f61c2800b379ba58d88ec  node-v0.10.18.tar.gz"
