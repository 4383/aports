# Maintainer: Bart≈Çomiej Piotrowski <bpiotrowski@alpinelinux.org>
# Contributor: William Pitcock <nenolod@dereferenced.org>

pkgname=nodejs
pkgver=0.10.21
pkgrel=0
pkgdesc='Evented I/O for V8 javascript'
url='http://nodejs.org/'
arch='all'
license='MIT'
makedepends="$depends_dev python openssl-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://nodejs.org/dist/v$pkgver/node-v$pkgver.tar.gz"

build() {
  cd "$srcdir"/node-v$pkgver
  ./configure --prefix=/usr \
    --shared-openssl || return 1
  make || return 1
}

package() {
  cd "$srcdir"/node-v$pkgver
  make DESTDIR="$pkgdir" install || return 1
}

md5sums="774bc17875c042ac42ad2d96b9c96734  node-v0.10.21.tar.gz"
sha256sums="7c125bf22c1756064f2a68310d4822f77c8134ce178b2faa6155671a8124140d  node-v0.10.21.tar.gz"
sha512sums="f2463aff35a9ba22351f841828f58554d4392938b8a9663c421dcef006ef91f2a7b9a1ac1653e82331aff20bf5e5c490887d5fd97e7dc413393cc9fe87e73b54  node-v0.10.21.tar.gz"
