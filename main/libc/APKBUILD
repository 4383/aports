# Contributor: Natanael Copa <ncopa@alpinelinux.org>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=libc
pkgver=0.3
pkgrel=0
pkgdesc="Meta package to pull in correct libc"
url="http://alpinelinux.org"
arch="noarch"
license="GPL"
makedepends=""
depends=
subpackages="$pkgname-dev $pkgname-utils"
source="sys-queue.h
	"

_builddir="$srcdir"/$pkgname-$pkgver

prepare() {
	mkdir -p "$_builddir"
	cd "$_builddir"
}

build() {
	return 0
}

package() {
	mkdir -p "$pkgdir"
}

dev() {
	mkdir -p "$subpkgdir"
	case "$CHOST" in
	*-uclibc*) depends="uclibc-dev";;
	*-gnu*) depends="eglibc-dev";;
	*-musl*)
		depends="musl-dev"
		install -D "$srcdir"/sys-queue.h "$subpkgdir"/usr/include/sys/queue.h
		;;
	esac
}

utils() {
	mkdir -p "$subpkgdir"
	case "$CHOST" in
	*-uclibc*) depends="uclibc-utils";;
	*-gnu*) depends="eglibc-utils";;
	*-musl*) depends="musl-utils" ;;
	esac
}

md5sums="555be8a6d1523a2272f4a04e4e936d5e  sys-queue.h"
sha256sums="e4db36f500692efb12a7b97112e0f5c0985f13310a052d8e9f3a4f7648693711  sys-queue.h"
sha512sums="af87b810fbc4e7ed97b20412025ff5766e503fec163b27c81415dc0377b4f80f39548ebf8b6403e0dc5d35eddf8d08ba2a8dc549b3c8c1bf503c9da7c24b523b  sys-queue.h"
