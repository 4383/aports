# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=file
pkgver=5.15
pkgrel=0
pkgdesc="File type identification utility"
url="http://www.darwinsys.com/file/"
arch="all"
license="custom"
depends=
source="ftp://ftp.astron.com/pub/file/file-$pkgver.tar.gz"
subpackages="$pkgname-dev $pkgname-doc"

_builddir="$srcdir/$pkgname-$pkgver"

prepare() {
	cd "$_builddir"
	update_config_sub || return 1
}

build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--datadir=/usr/share \
		|| return 1
	make || return 1
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install || return 1
	rm "$pkgdir"/usr/lib/*.la || return 1
}
md5sums="3f99565532f548d7540912c4642d1ede  file-5.15.tar.gz"
sha256sums="4bd52cc614d6488127c0bddc208a2855481744d76ff0878d9c173d2a6ed564e4  file-5.15.tar.gz"
sha512sums="390530832953c23099422c21b7159903fc6850999c6561b9d641318212d4c8e2bc768932cf8af0f545fac861a49f7389ce763b6e3b7d3832beba5281f0290e2b  file-5.15.tar.gz"
