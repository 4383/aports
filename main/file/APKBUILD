# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=file
pkgver=5.17
pkgrel=0
pkgdesc="File type identification utility"
url="http://www.darwinsys.com/file/"
arch="all"
license="custom"
depends=
source="ftp://ftp.astron.com/pub/file/file-$pkgver.tar.gz"
subpackages="$pkgname-dev $pkgname-doc"

_builddir="$srcdir/$pkgname-$pkgver"

prepare() {
	cd "$_builddir"
	update_config_sub || return 1
}

build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--datadir=/usr/share \
		|| return 1
	make || return 1
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install || return 1
	rm "$pkgdir"/usr/lib/*.la || return 1
}
md5sums="e19c47e069ced7b01ccb4db402cc01d3  file-5.17.tar.gz"
sha256sums="3feb97141b387b64da30aee485852925312c0e74219380a5ed451f14a90c83ca  file-5.17.tar.gz"
sha512sums="6c85d1719221f5dcf8620442901d17de1c32458ffedbdcd43beedf7d8b2553fe4bf85deeabda65abcbdc9e5cbfefafe26ecd982749c57e393955f51009ef2a88  file-5.17.tar.gz"
