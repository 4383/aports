# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=file
pkgver=5.18
pkgrel=0
pkgdesc="File type identification utility"
url="http://www.darwinsys.com/file/"
arch="all"
license="custom"
depends=
source="ftp://ftp.astron.com/pub/file/file-$pkgver.tar.gz"
subpackages="$pkgname-dev $pkgname-doc"

_builddir="$srcdir/$pkgname-$pkgver"

prepare() {
	cd "$_builddir"
	update_config_sub || return 1
}

build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--datadir=/usr/share \
		|| return 1
	make || return 1
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install || return 1
	rm "$pkgdir"/usr/lib/*.la || return 1
}
md5sums="d420d8f2990cd344673acfbf8d76ff5a  file-5.18.tar.gz"
sha256sums="6519fb706d583231c2419592ebecdbb21d33c62eaf7a1a0b24ddfcb80c08bf07  file-5.18.tar.gz"
sha512sums="eba4dd91053a28494e8a4d436b338ccfa44494dcd6c9031f7bb9c8b372d8cfacf702e0325e34b8498454be21b28dad78f0f63af5ad50b181b1962e0ec779c7b5  file-5.18.tar.gz"
