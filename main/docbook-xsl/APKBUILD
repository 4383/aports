# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=docbook-xsl
pkgver=1.78.0
pkgrel=0
pkgdesc="XML stylesheets for Docbook-xml transformations."
url="http://scrollkeeper.sourceforge.net/docbook.shtml"
arch="all"
license="custom"
depends="libxml2-utils libxslt docbook-xml"
makedepends=""
install="$pkgname.post-install $pkgname.post-upgrade $pkgname.post-deinstall"
source="http://downloads.sourceforge.net/sourceforge/docbook/$pkgname-$pkgver.tar.bz2"

build() {
	return 0
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	_dest="$pkgdir"/usr/share/xml/docbook/xsl-stylesheets-$pkgver
	mkdir -p "$_dest"/common
	for i in xml xsl dtd ent; do
		install -m644 common/*.$i "$_dest"/common/
	done
	mkdir -p "$_dest"/params
	install -m644 params/*.xml "$_dest"/params/
	for fn in fo highlighting html roundtrip; do
		mkdir -p "$_dest"/$fn
		install -m644 ${fn}/*.xml "$_dest"/$fn/
		install -m644 ${fn}/*.xsl "$_dest"/$fn/
	done
	for fn in eclipse htmlhelp javahelp lib manpages profiling template website xhtml; do
		mkdir -p "$_dest"/$fn
		install -m644 ${fn}/*.xsl "$_dest"/$fn/ 
	done
	mkdir -p "$pkgdir"/etc/xml
	install -m644 VERSION  "$_dest"/
	cp -a VERSION.xsl "$_dest"/VERSION.xsl || return 1
	install -m644 -D COPYING \
		"$pkgdir"/usr/share/licenses/$pkgname/COPYING
}

md5sums="52d99e87280509111168338494b1b973  docbook-xsl-1.78.0.tar.bz2"
sha256sums="e43220bfe35cad7eb289291264da472819c4b781173a9a58f72d6e404a1f5923  docbook-xsl-1.78.0.tar.bz2"
sha512sums="9611e354a8c8e86fa203a0b58356a6229e82f98197a94f9a668c10e10ef3ebb87f468fa03a04292068d1cca5ad31043d78e19981933ee3820910d70ca9e044e2  docbook-xsl-1.78.0.tar.bz2"
