# Maintainer: Eivind Uggedal <eivind@uggedal.com>
pkgname=mksh
pkgver=50f
_pkgver=R50f
pkgrel=1
pkgdesc="MirBSD KSH Shell"
url="http://mirbsd.de/mksh"
arch="all"
license="BSD"
depends=""
depends_dev=""
makedepends="$depends_dev"
install="mksh.post-install mksh.post-upgrade mksh.pre-deinstall"
subpackages="$pkgname-doc"
source="https://www.mirbsd.org/MirOS/dist/mir/mksh/$pkgname-$_pkgver.tgz"

_builddir="$srcdir/$pkgname"

build() {
	cd "$_builddir"

	sh Build.sh -r -c lto
}

package() {
	cd "$_builddir"
	install -D -m 755 mksh "$pkgdir"/usr/bin/mksh
	install -D -m 644 mksh.1 "$pkgdir"/usr/share/man/man1/mksh.1
	install -D -m 644 dot.mkshrc "$pkgdir"/usr/share/doc/mksh/dot.mkshrc
}

md5sums="c3bdd668992e7369165910f0902fa854  mksh-R50f.tgz"
sha256sums="74e051ce92ece9555d91505b956572f64668fc88c5ccabee742099e7f29a2bcb  mksh-R50f.tgz"
sha512sums="ca0b5d986727afc8b295b4a81c84e0048f1650c4ea3c45dcc05cabcc474bca4ab4719a063b708f3ddee08d65f35651652c0938b4279f6d706182d46ea5566cc1  mksh-R50f.tgz"
