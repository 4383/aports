# Maintainer: Kiyoshi Aman <kiyoshi.aman@gmail.com>
pkgname=perl-json
_pkgreal=JSON
pkgver=2.59
pkgrel=0
pkgdesc="Perl module implementing a JSON encoder/decoder"
url="http://search.cpan.org/dist/JSON/"
arch="noarch"
license="GPL PerlArtistic"
depends=
depends_dev=
makedepends="perl-dev"
install=""
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/M/MA/MAKAMAKA/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"
build() {
	cd "$_builddir"
        PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor || return 1
	make && make test || return 1
}

package() {
        cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
        find "$pkgdir" -name perllocal.pod -delete
        find "$pkgdir" -name .packlist -delete
}

md5sums="a73f5ec41ef71f46f7d50243f87380f0  JSON-2.59.tar.gz"
sha256sums="349b191b624474245648f4e8810463433ac8065cc7a44171634902ba113cda6d  JSON-2.59.tar.gz"
sha512sums="141003524e5b5187abdcf935bf16807dfab6d770add373cc571b8b137015f9e29966e5836a38f523147259d573534b1f50048acac712389939de6e67cb1e78f9  JSON-2.59.tar.gz"
