# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=gptfdisk
pkgver=0.8.9
pkgrel=0
pkgdesc="A text-mode partitioning tool that works on Globally Unique Identifier (GUID) Partition Table (GPT) disks"
arch="all"
url="http://www.rodsbooks.com/gdisk/"
license='GPL2'
makedepends="ncurses-dev e2fsprogs-dev popt-dev icu-dev"
source="http://downloads.sourceforge.net/project/$pkgname/$pkgname/$pkgver/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/gptfdisk-$pkgver
build() {
	cd "$_builddir"
	make CXX="${CXX:-g++}" CFLAGS="$CFLAGS" LDFLAGS="$LDFLAGS"
}

package () {
	cd "$_builddir"
	install -d "$pkgdir"/usr/bin \
		"$pkgdir"/usr/share/man/man8 \
		|| return 1

	for i in gdisk cgdisk sgdisk fixparts; do
		install $i "$pkgdir"/usr/bin/ || return 1
		install $i.8 "$pkgdir"/usr/share/man/man8/ || return 1
	done
}

md5sums="9b2e6c197bacdee804238fb64b8f90f6  gptfdisk-0.8.9.tar.gz"
sha256sums="4f7e6199f8b2eae8d4b7f0f65afebac0835331f571605ec70172067bbbd004ca  gptfdisk-0.8.9.tar.gz"
sha512sums="d34ab6d3a8ad1b529384263d5daa1f20f78b1950233b98ca1e62ae179bc3f0218e8ee598b0fae4adde403c7f3334c011ae6b34add24f65e7f9adebcb076efefe  gptfdisk-0.8.9.tar.gz"
