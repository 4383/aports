diff --git a/buildrepo.lua b/buildrepo.lua
index 21b444b..192d0f1 100755
--- a/buildrepo.lua
+++ b/buildrepo.lua
@@ -74,9 +74,6 @@ local function build_aport(aport, repodest, logdir, skip_failed)
 		err("%s", errmsg)
 		return nil
 	end
-	if skip_failed and skip_aport(aport) then
-		return nil
-	end
 	local logredirect = ""
 	if logdir ~= nil then
 		local dir = ("%s/%s"):format(logdir, aport.pkgname)
@@ -179,16 +176,19 @@ for _,repo in pairs(args) do
 	for aport in db:each_in_build_order(pkgs) do
 		tried = tried + 1
 		local totally_built = stats[repo].relevant_aports - #pkgs + built
-		io.write(("%d/%d %d/%d %s %s\n"):format(tried, #pkgs,
-					totally_built, stats[repo].relevant_aports,
-					aport.pkgname, aport.pkgver))
 		if not db:known_deps_exists(aport) then
 			warn("%s: Skipped due to missing dependencies", aport.pkgname)
-		elseif build_aport(aport, repodest, logdir, opts.s) then
-			built = built + 1
-		else
-			if not opts.k then
-				os.exit(1)
+		elseif not (skip_failed and skip_aport(aport)) then
+			io.write(("%d/%d %d/%d %s %s\n"):format(tried, #pkgs,
+					totally_built,
+					stats[repo].relevant_aports,
+					aport.pkgname, aport.pkgver))
+			if build_aport(aport, repodest, logdir, opts.s) then
+				built = built + 1
+			else
+				if not opts.k then
+					os.exit(1)
+				end
 			end
 		end
 	end
