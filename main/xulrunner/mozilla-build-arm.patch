--- ./gfx/ycbcr/moz.build.orig	2014-04-03 13:50:38.990296661 +0000
+++ ./gfx/ycbcr/moz.build	2014-04-03 13:52:26.878268547 +0000
@@ -59,7 +59,7 @@
         'yuv_row_other.cpp',
     ]
 
-if CONFIG['CPU_ARCH'] == 'arm' and CONFIG['HAVE_ARM_NEON']:
+if CONFIG['HAVE_ARM_NEON']:
     SOURCES += [
         'yuv_row_arm.s',
     ]
--- ./media/libtheora/lib/moz.build.orig	2014-04-03 13:50:38.990296661 +0000
+++ ./media/libtheora/lib/moz.build	2014-04-03 13:53:46.259228947 +0000
@@ -20,7 +20,7 @@
     'state.c',
 ]
 
-if CONFIG['OS_TEST'] == 'arm' and CONFIG['GNU_AS']:
+if CONFIG['HAVE_ARM_NEON'] and CONFIG['GNU_AS']:
     GENERATED_SOURCES += [ '%s.%s' % (f, CONFIG['ASM_SUFFIX']) for f in [
         'armbits-gnu',
         'armfrag-gnu',
