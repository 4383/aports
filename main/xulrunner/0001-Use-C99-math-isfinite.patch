From f7c52ff6334ce158da23750e63655df41e73fc31 Mon Sep 17 00:00:00 2001
From: Natanael Copa <ncopa@alpinelinux.org>
Date: Mon, 15 Aug 2011 07:57:16 +0000
Subject: [PATCH] Use C99 math isfinite

---
 content/base/public/nsContentUtils.h |    2 +-
 js/src/ctypes/CTypes.cpp             |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/content/base/public/nsContentUtils.h b/content/base/public/nsContentUtils.h
index a69d4ef..b4d8e67 100644
--- a/content/base/public/nsContentUtils.h
+++ b/content/base/public/nsContentUtils.h
@@ -1994,7 +1994,7 @@ inline NS_HIDDEN_(PRBool) NS_FloatIsFinite(jsdouble f) {
 #ifdef WIN32
   return _finite(f);
 #else
-  return finite(f);
+  return isfinite(f);
 #endif
 }
 
diff --git a/js/src/ctypes/CTypes.cpp b/js/src/ctypes/CTypes.cpp
index 0644817..5dbb906 100644
--- a/js/src/ctypes/CTypes.cpp
+++ b/js/src/ctypes/CTypes.cpp
@@ -467,7 +467,7 @@ static inline bool FloatIsFinite(jsdouble f) {
 #ifdef WIN32
   return _finite(f) != 0;
 #else
-  return finite(f);
+  return isfinite(f);
 #endif
 }
 
-- 
1.7.6

