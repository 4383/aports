--- bluez-5.11.orig/profiles/network/common.c
+++ bluez-5.11/profiles/network/common.c
@@ -29,10 +29,12 @@
 #include <errno.h>
 #include <unistd.h>
 #include <stdlib.h>
+#include <sys/types.h>
 #include <sys/param.h>
 #include <sys/ioctl.h>
 #include <sys/socket.h>
 #include <sys/wait.h>
+#include <sys/time.h>
 #include <net/if.h>
 #include <linux/sockios.h>
 
--- bluez-5.11.orig/profiles/network/connection.c
+++ bluez-5.11/profiles/network/connection.c
@@ -29,6 +29,7 @@
 #include <stdbool.h>
 #include <errno.h>
 #include <unistd.h>
+#include <sys/time.h>
 #include <netinet/in.h>
 
 #include <bluetooth/bluetooth.h>
--- bluez-5.11.orig/src/textfile.h
+++ bluez-5.11/src/textfile.h
@@ -24,6 +24,8 @@
 #ifndef __TEXTFILE_H
 #define __TEXTFILE_H
 
+#include <sys/types.h>
+
 int create_file(const char *filename, const mode_t mode);
 int create_name(char *buf, size_t size, const char *path,
 				const char *address, const char *name);
--- bluez-5.11.orig/tools/csr_usb.c
+++ bluez-5.11/tools/csr_usb.c
@@ -29,6 +29,7 @@
 #include <errno.h>
 #include <ctype.h>
 #include <fcntl.h>
+#include <limits.h>
 #include <unistd.h>
 #include <stdlib.h>
 #include <string.h>
--- bluez-5.11.orig/tools/hid2hci.c
+++ bluez-5.11/tools/hid2hci.c
@@ -35,6 +35,8 @@
 #include <string.h>
 #include <dirent.h>
 #include <getopt.h>
+#include <limits.h>
+#include <sys/types.h>
 #include <sys/ioctl.h>
 #include <linux/types.h>
 #include <linux/hiddev.h>
--- bluez-5.11.orig/unit/test-sdp.c
+++ bluez-5.11/unit/test-sdp.c
@@ -134,6 +134,10 @@
 {
 }
 
+void error(const char *format, ...)
+{
+}
+
 static void context_quit(struct context *context)
 {
 	g_main_loop_quit(context->main_loop);
--- bluez-5.11.orig/src/systemd.c
+++ bluez-5.11/src/systemd.c
@@ -30,6 +30,7 @@
 #include <unistd.h>
 #include <stdlib.h>
 #include <stddef.h>
+#include <string.h>
 #include <sys/socket.h>
 #include <sys/un.h>
 
