From a5cc84e229a40d725c1d53d1b0924a9ef9a615e0 Mon Sep 17 00:00:00 2001
From: Natanael Copa <ncopa@alpinelinux.org>
Date: Wed, 5 Sep 2012 11:09:57 +0000
Subject: [PATCH] abuild: use 'so:' as 'namespace' for provides

---
 abuild.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/abuild.in b/abuild.in
index f4d724c..ecb7c4d 100755
--- a/abuild.in
+++ b/abuild.in
@@ -921,7 +921,8 @@ trace_apk_deps() {
 
 	echo "# automatically detected:" >> "$dir"/.PKGINFO
 	if [ -f "$dir"/.provides-so ]; then
-		sed 's/^\(.*\)/provides = \1=0/' "$dir"/.provides-so >> "$dir"/.PKGINFO
+		sed 's/^\(.*\)/provides = so:\1=0/' "$dir"/.provides-so \
+			>> "$dir"/.PKGINFO
 	fi
 	[ -z "$autodeps" ] && return 0
 	for i in $autodeps; do
-- 
1.7.12

