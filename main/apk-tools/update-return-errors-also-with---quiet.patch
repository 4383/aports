From 2322ba0ad938c142d0bb7a715940fc75ccdbe91b Mon Sep 17 00:00:00 2001
From: Natanael Copa <ncopa@alpinelinux.org>
Date: Fri, 10 Apr 2015 17:33:21 +0000
Subject: update: return errors also with --quiet

fixes #4040
---
 src/update.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/update.c b/src/update.c
index 84833ec..72e8673 100644
--- a/src/update.c
+++ b/src/update.c
@@ -23,7 +23,7 @@ static int update_main(void *ctx, struct apk_database *db, struct apk_string_arr
 	char buf[32] = "OK:";
 
 	if (apk_verbosity < 1)
-		return 0;
+		return db->repo_update_errors;
 
 	for (i = 0; i < db->num_repos; i++) {
 		repo = &db->repos[i];
-- 
cgit v0.11.2

