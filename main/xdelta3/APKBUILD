# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=xdelta3
pkgver=3.0w
pkgrel=0
pkgdesc="A diff utility which works with binary files"
url="http://xdelta.org/"
license="GPL"
depends=
makedepends=
source="http://xdelta.googlecode.com/files/${pkgname%3}$pkgver.tar.gz
	$pkgname-makefile.patch
	$pkgname-xz.patch"

build () 
{ 
	cd $srcdir/xdelta$pkgver
	patch -Np1 -i $srcdir/xdelta3-makefile.patch
	patch -Np1 -i $srcdir/xdelta3-xz.patch
	make xdelta3 || return 1
}

package() {
	cd $srcdir/xdelta$pkgver
	install -D xdelta3 "$pkgdir"/usr/bin/xdelta3
#	python ./setup.py install --root "$pkgdir"
#	make xdelta3module.so || return 1
#	install -m644 {xdelta3.py,xdelta3module.so} "$pkgdir"/usr/lib/python2.6/site-packages
}
md5sums="59feb294c53f09d253dd317d3d708f16  xdelta3.0w.tar.gz
35aa0d20a27791addeb929591a78bd3f  xdelta3-makefile.patch
fb1e685d810a15f04b7bdbc9a3f3e635  xdelta3-xz.patch"
