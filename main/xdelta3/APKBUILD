# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=xdelta3
pkgver=3.0y
pkgrel=0
pkgdesc="A diff utility which works with binary files"
url="http://xdelta.org/"
license="GPL"
depends=
makedepends=
source="http://xdelta.googlecode.com/files/${pkgname%3}$pkgver.tar.gz
	$pkgname-xz.patch"

prepare() {
	cd $srcdir/xdelta$pkgver
	patch -p1 -i $srcdir/xdelta3-xz.patch || return 1
}

build() { 
	cd $srcdir/xdelta$pkgver
	make CFLAGS="$CFLAGS" xdelta3 || return 1
}

package() {
	cd $srcdir/xdelta$pkgver
	install -D xdelta3 "$pkgdir"/usr/bin/xdelta3
#	python ./setup.py install --root "$pkgdir"
#	make xdelta3module.so || return 1
#	install -m644 {xdelta3.py,xdelta3module.so} "$pkgdir"/usr/lib/python2.6/site-packages
}
md5sums="8246e6ba89a5a6b9efc24f9552fcf940  xdelta3.0y.tar.gz
fb1e685d810a15f04b7bdbc9a3f3e635  xdelta3-xz.patch"
