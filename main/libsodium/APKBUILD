# Contributor: Stuart Cardall <developer@it-offshore.co.uk>
# Maintainer: Stuart Cardall <developer@it-offshore.co.uk>
pkgname=libsodium
pkgver=1.0.4
pkgrel=0
pkgdesc="P(ortable|ackageable) NaCl-based crypto library"
url="https://github.com/jedisct1/libsodium"
arch="all"
license="ISC"
subpackages="$pkgname-dev"
source="https://github.com/jedisct1/$pkgname/releases/download/$pkgver/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver
build() {
        cd "$_builddir"
	./configure \
                --build=$CBUILD \
                --host=$CHOST \
                --prefix=/usr \
                || return 1
        make || return 1
}

check() {
	cd "$pkgname-$pkgver"
	make check || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="f3d077d856c3742515fa8fe12ddb2c0f  libsodium-1.0.4.tar.gz"
sha256sums="e4f75d4b2bd860068e0401163207415c9d41048d7601409897ff2951839fd310  libsodium-1.0.4.tar.gz"
sha512sums="9fe83a06a85fca2bf6ab869acf3acc7d0c5f74fce924c794f1e84a3f0ea98b3b8030ff2a1bc9b5c4675b4749edd12e2ac4c1dad3130168865bad323f6222c9c3  libsodium-1.0.4.tar.gz"
