# Contributor: Stuart Cardall <developer@it-offshore.co.uk>
# Maintainer: Stuart Cardall <developer@it-offshore.co.uk>
pkgname=libsodium
pkgver=1.0.7
pkgrel=0
pkgdesc="P(ortable|ackageable) NaCl-based crypto library"
url="https://github.com/jedisct1/libsodium"
arch="all"
license="ISC"
subpackages="$pkgname-dev"
source="https://github.com/jedisct1/$pkgname/releases/download/$pkgver/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver
build() {
        cd "$_builddir"
	./configure \
                --build=$CBUILD \
                --host=$CHOST \
                --prefix=/usr \
                || return 1
        make || return 1
}

check() {
	cd "$pkgname-$pkgver"
	make check || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="8bdc92cee556526a51612709e976208a  libsodium-1.0.7.tar.gz"
sha256sums="7ad1e78763510c163ca48f05133057726a825cf97386c581bf12b01d7654204a  libsodium-1.0.7.tar.gz"
sha512sums="21a2991010bc4e6e03d42c6df5443049c99f7622dc68a7bdc3d6d082621a165faab32612280526509d310ad1faefc00aa21c594a384a7fa8b05f4666e82e5e1d  libsodium-1.0.7.tar.gz"
