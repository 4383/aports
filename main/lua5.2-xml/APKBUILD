# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=lua5.2-xml
_name=LuaXML
pkgver=130610
pkgrel=0
pkgdesc="a minimal set of functions for the processing of XML data in Lua"
url="http://viremo.eludi.net/LuaXML/index.html"
arch="all"
license="MIT"
depends=
makedepends="lua5.2-dev"
install=
subpackages=
source="http://viremo.eludi.net/LuaXML/LuaXML_$pkgver.zip"

_builddir="$srcdir"

prepare() {
	cd "$_builddir"
}

build() {
	cd "$_builddir"
	make \
		INCDIR="$(pkg-config --cflags lua5.2)" \
		LIBDIR="$(pkg-config --libs lua5.2)" \
		|| return 1
}

package() {
	cd "$_builddir"
	install -m755 -D LuaXML_lib.so "$pkgdir"/usr/lib/lua/5.2/LuaXML_lib.so\
		|| return 1
	install -m755 -D LuaXml.lua "$pkgdir"/usr/share/lua/5.2/LuaXml.lua \
		|| return 1
}

md5sums="25e4c276c5d8716af1de0c7853aec2b4  LuaXML_130610.zip"
sha256sums="f2c7475c9ff842d110cfcbc0d0859856b4df18baea3edb5b9379c41a92415e6e  LuaXML_130610.zip"
sha512sums="8f4ab1ba0b186ae8778ec7e2cdf5ebb403233ac9a551c6e476d0554bc27b0eb16a69a070c56747d59d6ee7aa53be70245d9be302ca69ea02226c3543b0ca654f  LuaXML_130610.zip"
