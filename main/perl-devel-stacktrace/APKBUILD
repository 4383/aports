# Automatically generated by apkbuild-cpan, template 1
# Contributor: Kiyoshi Aman <kiyoshi.aman@gmail.com>
# Maintainer: Kiyoshi Aman <kiyoshi.aman@gmail.com>
pkgname=perl-devel-stacktrace
_pkgreal=Devel-StackTrace
pkgver=1.30
pkgrel=0
pkgdesc="An object representing a stack trace"
url="http://search.cpan.org/dist/Devel-StackTrace/"
arch="noarch"
license="Artistic-2"
cpandepends=""
cpanmakedepends="   "
depends="$cpandepends"
makedepends="perl-dev $cpanmakedepends"
subpackages="$pkgname-doc"
source="http://search.cpan.org/CPAN/authors/id/D/DR/DROLSKY/$_pkgreal-$pkgver.tar.gz"

_builddir="$srcdir/$_pkgreal-$pkgver"

prepare() {
	cd "$_builddir"
	PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
}

build() {
	cd "$_builddir"
	make && make test
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

md5sums="e318d2cb00c5bcba41c93f1e7280ab05  Devel-StackTrace-1.30.tar.gz"
sha256sums="f4af79762263e477a65764ec9ff837e6e1c9f1f2c966c183036cd54bdee723d4  Devel-StackTrace-1.30.tar.gz"
sha512sums="9ba394d9cf44587987abbca82d86c393f795a828bb4c8b370c617609bcaea53286891e418934eb75966664d31b4da56150b2080e732fc701a51306628ed57e67  Devel-StackTrace-1.30.tar.gz"
