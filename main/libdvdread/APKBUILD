# Contributor: Timo Teräs <timo.teras@iki.fi>
# Maintainer: Timo Teräs <timo.teras@iki.fi>
pkgname=libdvdread
pkgver=4.9.9
pkgrel=0
pkgdesc="a simple foundation for reading DVD video disks"
url="http://dvdnav.mplayerhq.hu/"
arch="all"
license="GPL"
depends=""
depends_dev=""
makedepends="$depends_dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://dvdnav.mplayerhq.hu/releases/libdvdread-$pkgver.tar.xz"

_builddir="$srcdir"/libdvdread-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	./configure --prefix=/usr --disable-static --disable-debug --enable-shared || return 1
	make || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
	rm -f "$pkgdir"/usr/lib/*.la
}

md5sums="1aa8ad88e462791a8e77d628a63ee788  libdvdread-4.9.9.tar.xz"
sha256sums="d91275471ef69d488b05cf15c60e1cd65e17648bfc692b405787419f47ca424a  libdvdread-4.9.9.tar.xz"
sha512sums="681daf9d40eaf9fcc824f65f52d4a823a2e69c78aa4c532685c417f8ad81d1f0170974c52c1b81208ee503bfcedcb009d0d02fa17562de575e21ff9471782ff9  libdvdread-4.9.9.tar.xz"
