# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=libtool
pkgver=2.4.4
pkgrel=0
pkgdesc="A generic library support script"
arch="all"
license='GPL'
url="http://www.gnu.org/software/libtool"
source="ftp://ftp.gnu.org/pub/gnu/libtool/${pkgname}-${pkgver}.tar.gz"
depends="bash libltdl"
subpackages="libltdl $pkgname-doc"
options="libtool"

prepare() {
	cd "$srcdir"/$pkgname-$pkgver
}

build() {
	cd "$srcdir"/$pkgname-$pkgver
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		|| return 1
	make
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make DESTDIR="$pkgdir" install
}

libltdl() {
	pkgdesc="Runtime libraries for GNU Libtool Dynamic Module Loade"
	depends=
	mkdir -p "$subpkgdir/usr/lib"
	mv "$pkgdir/usr/lib/libltdl.so"* "$subpkgdir/usr/lib/"
}

md5sums="353ed373fd3c6d7e47a1f4a8728d966b  libtool-2.4.4.tar.gz"
sha256sums="159d4e20c201f929e3562536d3ae6b5e605403fa4bb4e72ef197a4e162c3fedf  libtool-2.4.4.tar.gz"
sha512sums="88ae8ba640f1d7b5237fc39e1f6b24c9502ac310001636cd4e6626061ba77fec5ea6303ce5f47056a5feb86713bdde59039293534880d223b17c382bf34465f9  libtool-2.4.4.tar.gz"
