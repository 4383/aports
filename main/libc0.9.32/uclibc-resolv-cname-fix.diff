diff --git a/libc/inet/resolv.c b/libc/inet/resolv.c
index 1e394d4..03d68fe 100644
--- a/libc/inet/resolv.c
+++ b/libc/inet/resolv.c
@@ -3099,11 +3099,9 @@ int res_query(const char *dname, int class, int type,
 
 	free(a.dotted);
 
-	if (a.atype == type) { /* CNAME */
-		if (i > anslen)
-			i = anslen;
-		memcpy(answer, packet, i);
-	}
+	i = MIN(anslen, i);
+	memcpy(answer, packet, i);
+
 	free(packet);
 	return i;
 }
