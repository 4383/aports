# Maintainer: Jeff Bilyk <jbilyk@alpinelinux.org>
pkgname=putty
pkgver=0.65
pkgrel=0
pkgdesc="SSH and telnet client"
url="http://www.chiark.greenend.org.uk/~sgtatham/putty/"
arch="all"
license="custom"
depends=
depends_dev=
makedepends="$depends_dev"
install=""
subpackages="$pkgname-doc"
source="http://the.earth.li/~sgtatham/putty/latest/putty-$pkgver.tar.gz
fix-big-int-type.patch
"

_builddir="$srcdir"/putty-$pkgver
prepare() {
	local i
	cd "$_builddir"
	for i in $source; do
		case $i in
		*.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
		esac
	done
}

build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		|| return 1
	make || return 1
}

package() {
	cd "$_builddir"
	make DESTDIR="$pkgdir" install || return 1
}

md5sums="fe7220d2c1afc27805f976fc21afffd0  putty-0.65.tar.gz
a9a76a4b889eaa3c25bce60c2c3d1211  fix-big-int-type.patch"
sha256sums="d543c1fd4944ea51d46d4abf31bfb8cde9bd1c65cb36dc6b83e51ce875660ca0  putty-0.65.tar.gz
77cf14b0c1b793c79c3f80a6e11b57ca281a155a3b01c96ec052ec1cd37d849b  fix-big-int-type.patch"
sha512sums="cfb3e5437a920aa11bccedf1bd43a538a51ec3777a6d1dba9e9714c3b3699eaf1f4eb027a8f5fd6425f9909564a28b607f465b1f2b2e1250059b04b9a9d40569  putty-0.65.tar.gz
7dae793a7f9c5248f10ebf456087c01459c99bc8ab931b06a9aa09d70ef010a06bf7b248c38b03ddd0b76d1a35d3b32a095ac99a22d08aa170ce0d100f5dffb7  fix-big-int-type.patch"
