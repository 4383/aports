# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=lua-pty
_pkgname=lpty
pkgver=1.2.1
_rockver=1
pkgrel=0
pkgdesc="Lua module to control other programs via PTYs."
url="http://www.tset.de/lpty/"
arch="all"
license="MIT/X11"
depends=""
makedepends="lua5.1-dev"
source="http://www.tset.de/downloads/$_pkgname-$pkgver-$_rockver.tar.gz"
builddir="$srcdir/$_pkgname-$pkgver-$_rockver"

build() {
	cd "$builddir"
	make CFLAGS="-fPIC $CFLAGS" \
		LUAROOT=/usr LUA=lua5.1 LUAVERSION=5.1
}

package() {
	cd "$builddir"
	make INST_DIR="$pkgdir/usr" LUAVERSION=5.1 install
}

md5sums="6eadcd08580d8eb5e60abe7273b74d61  lpty-1.2.1-1.tar.gz"
sha256sums="46bf8142ac06a4ed4ac64036f03af63d69a65d3fc03ce578fbb33d56fd5dfb65  lpty-1.2.1-1.tar.gz"
sha512sums="46ffe9f5d9d70bda453c86965b218be4908a965e915aed5e0f4a788f85a8e67e88c9d5aea960048a584bfab08e02b64edfcfafa463bc3821dce056515380e692  lpty-1.2.1-1.tar.gz"
