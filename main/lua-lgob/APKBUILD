# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=lua-lgob
pkgver=10.11
pkgrel=1
pkgdesc="Set of Lua bindings that uses gobject-instrospection"
url="http://oproj.tuxfamily.org"
arch="x86 x86_64"
license="GPL-3"
depends="lua"
makedepends="lua-dev cairo-dev gtk+-dev pango-dev vte-dev gtkspell-dev
	webkit-dev atk-dev gstreamer-dev gst-plugins-base-dev poppler-gtk-dev
	gtksourceview-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="http://downloads.tuxfamily.org/oproj/lgob/lgob-$pkgver.tar.bz2"

#    'goocanvas', 'clutter', 'cluttergtk'
_mods="codegen common gobject loader cairo gdk gtk pango pangocairo vte webkit
	atk gstreamer gtkspell gtksourceview poppler"
build() { 
	cd "$srcdir"/lgob-$pkgver
}

package() {
	cd "$srcdir"/lgob-$pkgver
	for i in $_mods; do
		cd $i
		make DESTDIR="$pkgdir"/usr \
			&& make DESTDIR="$pkgdir"/usr install|| return 1
		cd ..
	done
	mkdir -p "$pkgdir"/usr/share/doc/$pkgname
	cp -r examples "$pkgdir"/usr/share/doc/$pkgname/
}

md5sums="020cd921b5119c142dc283a85b1d3253  lgob-10.11.tar.bz2"
