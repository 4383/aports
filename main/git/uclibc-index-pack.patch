--- ./builtin/index-pack.c.orig
+++ ./builtin/index-pack.c
@@ -39,9 +39,10 @@
 	int ofs_first, ofs_last;
 };
 
-#if !defined(NO_PTHREADS) && defined(NO_PREAD)
+#if (!defined(NO_PTHREADS) && defined(NO_PREAD)) || defined(__UCLIBC__)
 /* NO_PREAD uses compat/pread.c, which is not thread-safe. Disable threading. */
 #define NO_PTHREADS
+
 #endif
 
 struct thread_local {
