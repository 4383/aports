# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=readline
_myver=6.0
_patchver=004
pkgver=6.0.004
pkgrel=0
pkgdesc="GNU readline library"
url="ftp://ftp.cwru.edu/pub/bash/"
license="GPL"
depends=
makedepends="ncurses-dev"
subpackages="$pkgname-dev $pkgname-doc"
source="ftp://ftp.gnu.org/gnu/readline/readline-6.0.tar.gz
	ftp://ftp.gnu.org/gnu/readline/readline-6.0-patches/readline60-001
	ftp://ftp.gnu.org/gnu/readline/readline-6.0-patches/readline60-002
	ftp://ftp.gnu.org/gnu/readline/readline-6.0-patches/readline60-003
	ftp://ftp.gnu.org/gnu/readline/readline-6.0-patches/readline60-004
	"

build () 
{ 
	cd "$srcdir/$pkgname-$_myver"
	for i in "$srcdir"/readline60-???; do
		msg "Applying ${i##*/}"
        	patch -Np2 -i ${i} || return 1
	done

	./configure \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info
	
	make SHLIB_LIBS=-lncurses || return 1
	make DESTDIR="$pkgdir" install || return 1
	
}
md5sums="b7f65a48add447693be6e86f04a63019  readline-6.0.tar.gz
85c01ea031ad38a179053c67186bafed  readline60-001
4fad2a4ce987e3101229d0c8dfb0cd80  readline60-002
80967f663864983a889af2eb53aea177  readline60-003
dd5dd5ff7f7229714bf1c2e274ad2ae9  readline60-004"
