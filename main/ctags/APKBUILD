# Contributor: Michael Mason <ms13sp@gmail.com>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=ctags
pkgver=5.8
pkgrel=3
pkgdesc="Generator of tags for all types of C/C++ languages"
url="http://ctags.sourceforge.net/"
arch="all"
license="GPL2"
depends=""
makedepends=""
install=""
subpackages="$pkgname-doc"
source="http://prdownloads.sourceforge.net/ctags/$pkgname-$pkgver.tar.gz"

_builddir="$srcdir"/$pkgname-$pkgver
prepare() {
	cd "$_builddir"
	update_config_sub || return 1
}

build() {
	cd "$_builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--sysconfdir=/etc \
		--infodir=/usr/share/info \
		|| return 1
	make || return 1
}

package() {
	cd "$_builddir"
	mkdir -p "$pkgdir"
	make -j1 \
		DEST_CTAGS="$pkgdir" \
		mandir="$pkgdir"/usr/share/man \
		install || return 1
	rm -f "$pkgdir"/usr/lib/*.la
}

md5sums="c00f82ecdcc357434731913e5b48630d  ctags-5.8.tar.gz"
sha256sums="0e44b45dcabe969e0bbbb11e30c246f81abe5d32012db37395eb57d66e9e99c7  ctags-5.8.tar.gz"
sha512sums="981912cd335978cde22864e977947fc75326572fb29518e559cc4a8ac1edc84b3604165218a666e36353f17da4f89f8e967acdb88696f816748eb946d79eaa15  ctags-5.8.tar.gz"
