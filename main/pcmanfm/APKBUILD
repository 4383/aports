# Maintainer: Bart≈Çomiej Piotrowski <bpiotrowski@alpinelinux.org>

pkgname=pcmanfm
pkgver=1.2.2
pkgrel=0
pkgdesc='Extremely fast and lightweight file manager'
arch='all'
url='http://pcmanfm.sourceforge.net/'
license='GPL'
makedepends='gtk+2.0-dev libfm-dev intltool'
subpackages="$pkgname-doc"
source="http://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.xz"

build() {
  cd "$srcdir/$pkgname-$pkgver"

  ./configure --sysconfdir=/etc --prefix=/usr || return 1
  make LDFLAGS+=' -lm' || return 1
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir" install || return 1

  sed -i 's|x-directory/normal|inode/directory|' \
    "$pkgdir"/usr/share/applications/pcmanfm.desktop || return 1
}

md5sums="ac0ba2f8e2b4d47014a62ccf43388e0f  pcmanfm-1.2.2.tar.xz"
sha256sums="f620019ac0203b2d0e6eb8aa5a6a46e2bee15a43b4bdd9580db367b6325e9503  pcmanfm-1.2.2.tar.xz"
sha512sums="a76be2e1e02d0e285b0ae239121260d438ae8fe96741d6cf24ddd554eb49187ae4a31d3193ebc688a4c042a96d35f3bfc6bb7c5af7fc288b08cd36711bd91e60  pcmanfm-1.2.2.tar.xz"
