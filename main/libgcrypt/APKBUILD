# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=libgcrypt
pkgver=1.6.0
pkgrel=0
pkgdesc="general purpose crypto library based on the code used in GnuPG"
url="http://www.gnupg.org"
arch="all"
license="LGPL"
depends=
depends_dev="libgpg-error-dev"
makedepends="$depends_dev texinfo"
subpackages="$pkgname-dev $pkgname-doc"
source="ftp://ftp.gnupg.org/gcrypt/libgcrypt/libgcrypt-$pkgver.tar.bz2"


build () {
	cd "$srcdir"/$pkgname-$pkgver

	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--enable-padlock-support \
		--disable-static \
		|| return 1

	make || return 1
}

package() {
	cd "$srcdir"/$pkgname-$pkgver
	make -j1 DESTDIR="$pkgdir" install || return 1
	rm "$pkgdir"/usr/lib/*.la || return 1
	rm -f ${pkgdir}/usr/share/info/dir
}
md5sums="984079ff16fb644dd80d4dddc5fc1a73  libgcrypt-1.6.0.tar.bz2"
sha256sums="662d508600ad94cc334e665b7016137feedfcca5226998c65ddd56bdfca29708  libgcrypt-1.6.0.tar.bz2"
sha512sums="e2e8ef6eacc67cc575bf592192db253a7174218a69e217d05870c8f4a85541209b392e21bebafcf9d7f062300ccf65fa2aabeb1b6ef28821813c8f9ff659fe80  libgcrypt-1.6.0.tar.bz2"
